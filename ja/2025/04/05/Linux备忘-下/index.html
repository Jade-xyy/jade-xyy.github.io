
  <!DOCTYPE html>
  <html lang="zh-CN"  
    
      data-theme-mode="auto"
    
  >
  <head>
  
  <meta charset="utf-8">
  

  

  

  <script>window.REIMU_CONFIG = {};window.REIMU_CONFIG.icon_font = '4552607_0khxww3tj3q9';window.REIMU_CONFIG.clipboard_tips = {"success":"复制成功(*^▽^*)","fail":"复制失败 (ﾟ⊿ﾟ)ﾂ","copyright":{"enable":false,"count":50,"content":"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！"}};window.REIMU_CONFIG.code_block = {"expand":true};window.REIMU_CONFIG.base = 'https://jade-xyy.github.io';window.REIMU_CONFIG.i18n_languages = ["en","ja"];</script>
  
  <title>
    Linux备忘 - 下 |
    
    本堂主Blog
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic&display=swap" media="print" onload="this.media&#x3D;&#39;all&#39;">
  
    <link rel="preload" href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  
  
    
<link rel="stylesheet" href="/css/loader.css">

  
  
    <meta name="description" content="Shell编程基本功能 Shell是一个命令行解释器，为用户提供一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序还是一个功能强大的编程语言，易编写、易调试、灵活性较强，可直接调用Linux系统命令  Shell分类Bourne Shell：从1979起Unix就开始使用Bourne Shell，主文件名为shC Shell：C Sh">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux备忘 - 下">
<meta property="og:url" content="https://jade-xyy.github.io/ja/2025/04/05/Linux%E5%A4%87%E5%BF%98-%E4%B8%8B/index.html">
<meta property="og:site_name" content="本堂主Blog">
<meta property="og:description" content="Shell编程基本功能 Shell是一个命令行解释器，为用户提供一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序还是一个功能强大的编程语言，易编写、易调试、灵活性较强，可直接调用Linux系统命令  Shell分类Bourne Shell：从1979起Unix就开始使用Bourne Shell，主文件名为shC Shell：C Sh">
<meta property="og:locale" content="ja_JP">
<meta property="article:published_time" content="2025-04-05T08:47:03.000Z">
<meta property="article:modified_time" content="2025-04-14T07:04:49.311Z">
<meta property="article:author" content="本堂主">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
  
  
    <link rel="alternate" href="/atom.xml" title="本堂主Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="preload" href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
  
  
  
    
<script src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"></script>

  
  
    
<link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css">

  
  
  
<meta name="generator" content="Hexo 7.3.0"></head>

  <body>
    
    
  <div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi">
        
          <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
            <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="var(--red-1, #ff5252)" />
            <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
           M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="var(--red-1, #ff5252)" />
          </svg>
        
      </div>
      <div class="loading-word">Wait a moment ...</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script>

<div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>


    <div id="container">
      <div id="wrap">
        <div id="header-nav">
  <nav id="main-nav">
    
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
            &#xe62b;
          </div>
          <a class="main-nav-link" href="/ja/">ホーム</a>
        </span>
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
            &#xe62b;
          </div>
          <a class="main-nav-link" href="/ja/archives">アーカイブ</a>
        </span>
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
            &#xe62b;
          </div>
          <a class="main-nav-link" href="/ja/about">プロフィール</a>
        </span>
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
            &#xe62b;
          </div>
          <a class="main-nav-link" href="/ja/friend">フレンド</a>
        </span>
      
    
    <a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS フィード" target="_blank"></a>
    
    
    
      <a id="nav-search-btn" class="nav-icon popup-trigger" title="検索"></a>
    
  </nav>
  
    
    <nav id="i18n-nav">
      <div class="custom-dropdown">
        <div class="select-selected" id="select-selected">
          <span id="nav-language-btn" class="nav-icon" style="padding: 0 20px 0 0"></span>
          <span id="selected-lang">日本語</span>
        </div>
        <ul class="select-items" id="select-items">
          
            <li data-value="zh-CN" >简体中文</li>
          
            <li data-value="en" >English</li>
          
            <li data-value="ja" class="selected">日本語</li>
          
        </ul>
      </div>
      <script>
        var selectSelected = document.getElementById("select-selected");
        var selectedLang = document.getElementById("selected-lang");
        var selectItems = document.getElementById("select-items");
        var selectOptions = selectItems.querySelectorAll("li");

        selectSelected.addEventListener("click", () => {
          selectItems.classList.toggle("show");
        });

        selectOptions.forEach((item) => {
          item.addEventListener("click", () => {
            const langMap = {};
            
              langMap['zh-CN'] = '/2025/04/05/Linux备忘-下/';
            
              langMap['en'] = '/en/2025/04/05/Linux备忘-下/';
            
              langMap['ja'] = '/ja/2025/04/05/Linux备忘-下/';
            
            selectedLang.textContent = item.textContent;
            selectItems.classList.remove("show");
            selectOptions.forEach((option) => {
              option.classList.remove("selected");
            });
            item.classList.add("selected");
            window.location = langMap[item.dataset.value];
          });
        });

        document.addEventListener("click", (event) => {
          if (!event.target.closest(".custom-dropdown")) {
            selectItems.classList.remove("show");
          }
        });
      </script>
    </nav>
  
</div>
<header id="header">
  
    
      
        <picture>
          
            
              <source media="(max-width: 479px)" srcset="/images/banner-600w.webp">
            
              <source media="(max-width: 799px)" srcset="/images/banner-800w.webp">
            
              <source media="(min-width: 800px)" srcset="/images/banner.webp">
            
            <img  fetchpriority="high" src="/images/banner.webp" alt="Linux备忘 - 下">
          
        </picture>
        
          <img alt="Linux备忘 - 下" style="visibility: hidden;">
        
      
    
  
  <div id="header-outer">
    <div id="header-title">
      
        
        
          <a href="/" id="logo">
            <h1 data-aos="slide-up">Linux备忘 - 下</h1>
          </a>
        
      
      
        
        <h2 id="subtitle-wrap" data-aos="slide-down">
          
        </h2>
      
    </div>
  </div>
</header>

        <div id="content"  class="sidebar-right" >
          <aside id="sidebar">
  
  
  
  <div class="sidebar-wrapper wrap-sticky">
    <div class="sidebar-wrap" data-aos="fade-up">
      
        
          <div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">見出し</h3>
  <div class="sidebar-toc-wrapper toc-div-class" >
      
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">Shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">1.0.1.</span> <span class="toc-text">基本功能</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-echo-e-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.1.</span> <span class="toc-text">… … … echo -e … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-history-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.2.</span> <span class="toc-text">… … … history … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-alias-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.3.</span> <span class="toc-text">… … … alias … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-wc-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.4.</span> <span class="toc-text">… … … wc … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dd-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.5.</span> <span class="toc-text">… … … dd … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.6.</span> <span class="toc-text">… … … | … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E3%80%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.0.2.</span> <span class="toc-text">变量、环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-export-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">… … … export … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-read-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">… … … read … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-set-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.2.3.</span> <span class="toc-text">… … … set … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.3.</span> <span class="toc-text">环境变量配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-source-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.3.1.</span> <span class="toc-text">… … … source … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.0.4.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-declare-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">… … … declare … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E3%80%81%E6%8E%92%E5%BA%8F"><span class="toc-number">1.0.5.</span> <span class="toc-text">正则、排序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-sort-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">… … … sort … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.0.6.</span> <span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.0.7.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-if-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.1.</span> <span class="toc-text">… … … if … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-case-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.2.</span> <span class="toc-text">… … … case … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-for-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.3.</span> <span class="toc-text">… … … for … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-while-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.4.</span> <span class="toc-text">… … … while … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-until-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.5.</span> <span class="toc-text">… … … until … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">服务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RPM%E5%8C%85%E6%9C%8D%E5%8A%A1%E6%BA%90%E7%A0%81%E5%8C%85%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.0.1.</span> <span class="toc-text">RPM包服务源码包服务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-ps-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">… … … ps … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-top-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.2.</span> <span class="toc-text">… … … top … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-pstree-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.3.</span> <span class="toc-text">… … … pstree … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-kill-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.4.</span> <span class="toc-text">… … … kill … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-killall-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.5.</span> <span class="toc-text">… … … killall … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-pkill-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.6.</span> <span class="toc-text">… … … pkill … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-jobs-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.7.</span> <span class="toc-text">… … … jobs … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-fg-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.8.</span> <span class="toc-text">… … … fg … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-bg-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.9.</span> <span class="toc-text">… … … bg … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-vmstat-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.10.</span> <span class="toc-text">… … … vmstat … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dmesg-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.11.</span> <span class="toc-text">… … … dmesg … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-free-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.12.</span> <span class="toc-text">… … … free … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-uptime-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.13.</span> <span class="toc-text">… … … uptime … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-uname-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.14.</span> <span class="toc-text">… … … uname … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-lsof-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.15.</span> <span class="toc-text">… … … lsof … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-crontab-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.16.</span> <span class="toc-text">… … … crontab … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-lspci-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.17.</span> <span class="toc-text">… … … lspci … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-systemctl-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.18.</span> <span class="toc-text">… … … systemctl … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-md5-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.19.</span> <span class="toc-text">… … … md5 … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">日志管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-logrotate-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">4.0.0.1.</span> <span class="toc-text">… … … logrotate … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">启动管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-runlevel-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">… … … runlevel … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-init-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">… … … init … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D"><span class="toc-number">6.</span> <span class="toc-text">备份恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dump-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">6.0.0.1.</span> <span class="toc-text">… … … dump … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">7.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-chrony-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">… … … chrony … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-tcpdump-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.2.</span> <span class="toc-text">… … … tcpdump … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-openssl-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.3.</span> <span class="toc-text">… … … openssl … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.4.</span> <span class="toc-text">… … … 登录信息 … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-git-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.5.</span> <span class="toc-text">… … … git … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dmidecode-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.6.</span> <span class="toc-text">… … … dmidecode … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-sar-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.7.</span> <span class="toc-text">… … … sar … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-storcli64-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.8.</span> <span class="toc-text">… … … storcli64 … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-hostname-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.9.</span> <span class="toc-text">… … … hostname … … … ∞</span></a></li></ol></li></ol></li></ol></li></ol>
      
  </div>
</div>
</div>
          <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img data-src="/avatar/Omen.jpg" data-sizes="auto" alt="本堂主" class="lazyload">
  <div class="sidebar-author-name">本堂主</div>
  <div class="sidebar-description"></div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>投稿</div>
    <div class="sidebar-state-number">13</div>
  </div>
  <div class="sidebar-state-category">
    <div>カテゴリー</div>
    <div class="sidebar-state-number">5</div>
  </div>
  <div class="sidebar-state-tag">
    <div>タグ</div>
    <div class="sidebar-state-number">9</div>
  </div>
</div>
<div class="sidebar-social">
  
</div>
<div class="sidebar-menu">
  
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/" aria-label="ホーム"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">ホーム</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/archives" aria-label="アーカイブ"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">アーカイブ</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/about" aria-label="プロフィール"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">プロフィール</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/friend" aria-label="フレンド"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">フレンド</div>
      </div>
    
  
</div>
</div>
        
      
      
        
          <div class="sidebar-btn-wrapper" style="position:static">
            <div class="sidebar-toc-btn current"></div>
            <div class="sidebar-common-btn"></div>
          </div>
        
      
    </div>
  </div>

  <div class="sidebar-widget">
  
  </div>
  
</aside>

          <section id="main"><article id="post-Linux备忘-下" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner" data-aos="fade-up">
    <div class="article-meta">
      <div class="article-date">
  <span class="article-date-link" data-aos="zoom-in">
    <time datetime="2025-04-05T08:47:03.000Z" itemprop="datePublished">2025-04-05</time>
    <time style="display: none;" id="post-update-time">2025-04-14</time>
  </span>
</div>

      
  <div class="article-category">
    <a class="article-category-link" href="/ja/categories/memos/" data-aos="zoom-in">memos</a><a class="article-category-link" href="/ja/categories/study/" data-aos="zoom-in">study</a>
  </div>


    </div>
    <div class="hr-line"></div>
    

    <div class="e-content article-entry" itemprop="articleBody">
      
      
        <h2 id="Shell编程"><a href="#Shell编程" class="headerlink" title="Shell编程"></a>Shell编程</h2><h4 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h4><ul>
<li><p>Shell<br>是一个命令行解释器，为用户提供一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序<br>还是一个功能强大的编程语言，易编写、易调试、灵活性较强，可直接调用Linux系统命令</p>
</li>
<li><p>Shell分类<br>Bourne Shell：从1979起Unix就开始使用Bourne Shell，主文件名为sh<br>C Shell：C Shell主要在BSD版的Unix系统中使用，其语法和C语言相类似而得名</p>
<ul>
<li>区别：<br>Shell的两种主要语法类型有Bourne和C，这两种语法彼此不兼容<br>Bourne家族主要包括sh、ksh、Bash、psh、zsh<br>C家族主要包括：csh、tcsh</li>
</ul>
</li>
<li><p>Bash<br>Bash与sh兼容，目前使用Bash作为用户的基本Shell</p>
</li>
<li><p>Linux支持的Shell<br>&#x2F;etc&#x2F;shells文件可查询</p>
</li>
</ul>
<h5 id="…-…-…-echo-e-…-…-…-∞"><a href="#…-…-…-echo-e-…-…-…-∞" class="headerlink" title="… … … echo -e … … … ∞"></a><code>… … … echo -e … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\e[1;31m testcontent \e[0m&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 脚本执行赋予执行权限，直接运行</span></span><br><span class="line">  <span class="built_in">chmod</span> 755 hello.sh</span><br><span class="line">  ./hello.sh</span><br><span class="line">通过Bash调用执行脚本</span><br><span class="line">  Bash hello.sh</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-history-…-…-…-∞"><a href="#…-…-…-history-…-…-…-∞" class="headerlink" title="… … … history … … … ∞"></a><code>… … … history … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">history</span> [选项] [历史命令保存文件]</span><br><span class="line">-c：清空历史命令</span><br><span class="line">-w：把缓存中的历史命令写入历史命令保存文件~/.bash_history</span><br><span class="line"><span class="comment"># 默认保存1k条，可在环境变量配置文件/etc/profile中进行修改</span></span><br><span class="line"><span class="comment">## 历史命令调用</span></span><br><span class="line">使用上下箭头：调用以前的历史命令</span><br><span class="line">!n：重复执行第n条历史命令</span><br><span class="line">!!：重复执行上一条命令</span><br><span class="line">!字串：重复执行最后一条以该字串开头的命令</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-alias-…-…-…-∞"><a href="#…-…-…-alias-…-…-…-∞" class="headerlink" title="… … … alias … … … ∞"></a><code>… … … alias … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 设定命令别名</span></span><br><span class="line"><span class="built_in">alias</span> 别名=<span class="string">&#x27;原命令&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询命令别名</span></span><br><span class="line"><span class="built_in">alias</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除别名</span></span><br><span class="line"><span class="built_in">unalias</span></span><br><span class="line"></span><br><span class="line">永久生效：vi /root/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 命令执行时顺序</span></span><br><span class="line">1：用绝对路径/相对路径执行的命令</span><br><span class="line">2：别名</span><br><span class="line">3：Bash的内部命令</span><br><span class="line">4：按照<span class="variable">$PATH</span>环境变量定义的目录查找顺序找到的第一个命令</span><br><span class="line"></span><br><span class="line"><span class="comment">## Bash常用快捷键</span></span><br><span class="line">ctrl+a：光标移动到行首</span><br><span class="line">ctrl+e：光标移动到行尾</span><br><span class="line">ctrl+c：强制终止当前命令</span><br><span class="line">ctrl+l：清屏，相当于clear</span><br><span class="line">ctrl+u：删除/剪切光标之前的内容</span><br><span class="line">ctrl+k：删除/剪切光标之后的内容</span><br><span class="line">ctrl+w：删除/剪切光标之前的1个词语</span><br><span class="line">ctrl+y：粘贴u、k剪切的内容</span><br><span class="line">ctrl+r：搜索历史命令</span><br><span class="line">ctrl+d：退出当前终端</span><br><span class="line">ctrl+z：暂停并放入后台</span><br><span class="line">ctrl+s：暂停屏幕输出</span><br><span class="line">ctrl+q：恢复屏幕输出</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 标准输入输出设备</span></span><br><span class="line">设备文件名  文件描述符 类型</span><br><span class="line">键盘     /dev/stdin    0              标准输入</span><br><span class="line">显示器  /dev/stdout 1              标准输出</span><br><span class="line">显示器  /dev/stderr  2              标准错误输出</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重定向错误输出到文件</span></span><br><span class="line">错误命令 2&gt;&gt; 文件</span><br><span class="line"><span class="comment"># 正确输出和错误输出同时覆盖&gt;或追加&gt;&gt;到同一个文件中</span></span><br><span class="line">命令 &gt; 文件 2&gt;&amp;1</span><br><span class="line">命令 &amp;&gt;文件命令 &amp;&gt;/dev/null  <span class="comment">## 相当于将输出丢入到垃圾箱</span></span><br><span class="line"><span class="comment"># 正确输出追加到文件1，错误输出追加到文件2</span></span><br><span class="line">命令&gt;&gt;文件1 2&gt;&gt;文件2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入重定向</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-wc-…-…-…-∞"><a href="#…-…-…-wc-…-…-…-∞" class="headerlink" title="… … … wc … … … ∞"></a><code>… … … wc … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">wc</span> [选项] [文件名]</span><br><span class="line">-c：统计字节数</span><br><span class="line">-w：统计单词数</span><br><span class="line">-l：统计行数</span><br><span class="line"></span><br><span class="line"><span class="comment">## 多命令顺序执行</span></span><br><span class="line">;：多个命令顺序执行</span><br><span class="line">&amp;&amp;：逻辑与</span><br><span class="line">||：逻辑或</span><br><span class="line"><span class="comment"># 判断命令是否报错</span></span><br><span class="line">命令 &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-dd-…-…-…-∞"><a href="#…-…-…-dd-…-…-…-∞" class="headerlink" title="… … … dd … … … ∞"></a><code>… … … dd … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=输入文件 of=输出文件 bs=字节数 count=个数</span><br><span class="line">例：<span class="built_in">date</span>;<span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/root/testfile bs=1k count=100000; <span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-…-…-…-∞"><a href="#…-…-…-…-…-…-∞" class="headerlink" title="… … … | … … … ∞"></a><code>… … … | … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 管道符，命令1的正确输出作为命令2的操作对象</span></span><br><span class="line">命令1 | 命令2</span><br><span class="line">例：查询正在连接的</span><br><span class="line">netstat -an | grep ESTABLISHED</span><br><span class="line"></span><br><span class="line"><span class="comment">## 通配符</span></span><br><span class="line">?：匹配1个任意字符</span><br><span class="line">*：匹配0或任意多个任意字符（可匹配任何内容）</span><br><span class="line">[]：匹配中括号中任意一个字符（[abc]代表一定匹配1个字符，或是a、或是b、或是c）</span><br><span class="line">[-]：匹配中括号中任意1个字符，-代表一个范围（[a-z]代表匹配1个小写字母）</span><br><span class="line">[^]：逻辑非，标识匹配不是中括号中的1个字符（[^0-9]代表匹配1个不是数字的字符）</span><br><span class="line"></span><br><span class="line"><span class="comment">## Bash中其他特殊符号</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span>：单引号中所有的特殊符号都没有特殊含义（如$ `）</span><br><span class="line"><span class="string">&quot;&quot;</span>：双引号中特殊符号都没有特殊含义（$ ` \是例外，拥有调用变量的值、引用命令、转义符的特殊含义）</span><br><span class="line">``：反引号括起来的内容是系统命令，Bash会先执行，和$()作用一样</span><br><span class="line">$()：引用系统命令</span><br><span class="line"><span class="comment">#：注释</span></span><br><span class="line">$：调用变量的值</span><br><span class="line">\：转义符，跟在\之后的特殊字符变为普通字符</span><br></pre></td></tr></table></figure>
<h4 id="变量、环境变量"><a href="#变量、环境变量" class="headerlink" title="变量、环境变量"></a>变量、环境变量</h4><ul>
<li>变量<br>1.定义：计算机内存的单元<br>2.规则：<br>由字母、数字、下划线组成，不能以数字开头Bash中，变量默认类型是字符串型，要进行数值运算，需修改为数值型<br>等号连接，两侧不能有空格<br>环境变量建议大写，便于区分<br>3.分类<br>用户自定义变量（本地变量）<br>只在当前的Shell中生效</li>
</ul>
<p>例：变量叠加<br>aa&#x3D;123<br>aa&#x3D;${aa}456<br>aa&#x3D;”$aa”789</p>
<p>环境变量<br>主要保存的是和系统操作环境相关的数据会在当前Shell和所有子Shell中生效；如果写入相应配置文件，会在所有的Shell中生效</p>
<h5 id="…-…-…-export-…-…-…-∞"><a href="#…-…-…-export-…-…-…-∞" class="headerlink" title="… … … export … … … ∞"></a><code>… … … export … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 声明变量</span></span><br><span class="line"><span class="built_in">export</span> 变量名=变量值</span><br><span class="line"><span class="comment"># 查询变量</span></span><br><span class="line"><span class="built_in">env</span></span><br><span class="line"><span class="comment"># 删除变量</span></span><br><span class="line"><span class="built_in">unset</span> 变量名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统常见环境变量</span></span><br><span class="line">PATH：系统查找命令的路径</span><br><span class="line">PATH=<span class="string">&quot;<span class="variable">$PATH</span>&quot;</span>:/root/sh  <span class="comment"># PATH变量叠加</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义系统提示符的变量</span></span><br><span class="line">PS1</span><br><span class="line">\d：显示日期，格式“星期 月 日”</span><br><span class="line">\h：显示简写主机名（默认localhost）</span><br><span class="line">\t：显示24小时制时间，格式“HH:MM:SS”</span><br><span class="line">\T：显示12小时制时间，格式“HH:MM:SS”</span><br><span class="line">\A：显示24小时制时间，格式“HH:MM”</span><br><span class="line">\u：显示当前用户名\w：显示当前所在目录的完整名称</span><br><span class="line">\W：显示当前所在目录的最后一个目录</span><br><span class="line">\#：执行的第几个命令</span><br><span class="line">\$：提示符（root提示#，普通用户提示$）</span><br><span class="line">例：PS1=<span class="string">&#x27;[\u@\t \w]\$ &#x27;</span></span><br><span class="line">默认PS1=<span class="string">&#x27;[\u@\h \w]\$ &#x27;</span></span><br><span class="line">位置参数变量</span><br><span class="line">主要是用来向脚本当中传递参数或数据，变量名不能自定义，变量作用固定</span><br><span class="line"><span class="variable">$n</span>：n为数字，<span class="variable">$0</span>代表命令本身、<span class="variable">$1</span>-<span class="variable">$9</span>代表第1-0个参数，10以上的参数需要用大括号如<span class="variable">$&#123;10&#125;</span></span><br><span class="line">$*：代表命令行中所有的参数，把所有参数看成一个整体</span><br><span class="line"><span class="variable">$@</span>：也代表命令行中所有的参数，不过<span class="variable">$@</span>把每个参数区分对待</span><br><span class="line"><span class="variable">$#</span>：代表命令行中所有参数的个数</span><br><span class="line"></span><br><span class="line">预定义变量</span><br><span class="line">Bash中已定义好的变量，变量名不能自定义，变量作用固定</span><br><span class="line">$?：最后一次执行的命令的返回状态，值为0 证明正确执行，值为非0（具体哪个数，由命令自己决定）证明执行不正确</span><br><span class="line">$$：当前进程的进程号（PID）</span><br><span class="line">$!：后台运行的最后一个进程的PID</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-read-…-…-…-∞"><a href="#…-…-…-read-…-…-…-∞" class="headerlink" title="… … … read … … … ∞"></a><code>… … … read … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">read</span> [选项] [变量名]</span><br><span class="line">-p <span class="string">&quot;提示信息&quot;</span>：等待输入时，输出提示信息</span><br><span class="line">-t 秒数：指定等待时间</span><br><span class="line">-n 字符数：只接受指定的字符数</span><br><span class="line">-s：隐藏输入的数据</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-set-…-…-…-∞"><a href="#…-…-…-set-…-…-…-∞" class="headerlink" title="… … … set … … … ∞"></a><code>… … … set … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看系统中的变量</span></span><br><span class="line"><span class="built_in">set</span></span><br><span class="line"><span class="comment"># 删除变量</span></span><br><span class="line"><span class="built_in">unset</span> name</span><br></pre></td></tr></table></figure>
<h4 id="环境变量配置文件"><a href="#环境变量配置文件" class="headerlink" title="环境变量配置文件"></a>环境变量配置文件</h4><h5 id="…-…-…-source-…-…-…-∞"><a href="#…-…-…-source-…-…-…-∞" class="headerlink" title="… … … source … … … ∞"></a><code>… … … source … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 修改环境配置文件重启或者source生效</span></span><br><span class="line"><span class="built_in">source</span> 配置文件</span><br><span class="line">. 配置文件 <span class="comment"># .是source的缩写</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 登录时生效的配置文件</span></span><br><span class="line">/etc/profile</span><br><span class="line">USER变量  </span><br><span class="line">LOGNAME变量  </span><br><span class="line">MAIL变量 </span><br><span class="line">PATH变量  </span><br><span class="line">HOSTNAME变量  </span><br><span class="line">HISTSIZE变量  </span><br><span class="line"><span class="built_in">umask</span>  </span><br><span class="line">调用/etc/profile.d/*.sh文件</span><br><span class="line"></span><br><span class="line">/etc/profile.d/*.sh</span><br><span class="line"></span><br><span class="line">~/.bash_profile  </span><br><span class="line">调用~/.bashrc文件  </span><br><span class="line">在PATH变量后叠加<span class="string">&quot;:<span class="variable">$HOME</span>/bin目录&quot;</span></span><br><span class="line"></span><br><span class="line">~/.bashrc</span><br><span class="line"></span><br><span class="line">/etc/bashrc  </span><br><span class="line">PS1变量  </span><br><span class="line"><span class="built_in">umask</span>  </span><br><span class="line">PATH变量  </span><br><span class="line">调用/etc/profile.d/*.sh文件</span><br><span class="line"></span><br><span class="line"><span class="comment">## 注销时生效的环境变量配置文件</span></span><br><span class="line">~/.bash_logout</span><br><span class="line"></span><br><span class="line"><span class="comment">## 其他配置文件</span></span><br><span class="line">~/bash_history  </span><br><span class="line">历史命令存放文件，排错时可查看，文件占用不大，建议不清空</span><br><span class="line"></span><br><span class="line"><span class="comment">## Shell登录信息</span></span><br><span class="line">/etc/issue</span><br><span class="line">本地终端欢迎信息</span><br><span class="line">转义符 作用</span><br><span class="line">/d 当前系统日期</span><br><span class="line">/s 操作系统名称</span><br><span class="line">/l 登录的终端号（较常用）</span><br><span class="line">/m 硬件体系结构（如i386）</span><br><span class="line">/n 主机名</span><br><span class="line">/o 域名</span><br><span class="line">/r 内核版本</span><br><span class="line">/t 当前系统时间</span><br><span class="line">/u 当前登录用户的序列号</span><br><span class="line"></span><br><span class="line">/etc/issue.net</span><br><span class="line">远程终端欢迎信息</span><br><span class="line">转义符在/etc/issue.net文件中不能使用</span><br><span class="line">是否显示此欢迎信息，由ssh的配置文件/etc/ssh/sshd_config决定，加入“Banner /etc/issue.net”行才能显示（需重启SSH服务）</span><br><span class="line"></span><br><span class="line">/etc/motd</span><br><span class="line">本地、远程登录都可显示欢迎信息</span><br></pre></td></tr></table></figure>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p>数值运算</p>
<h5 id="…-…-…-declare-…-…-…-∞"><a href="#…-…-…-declare-…-…-…-∞" class="headerlink" title="… … … declare … … … ∞"></a><code>… … … declare … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 声明变量类型，用exporter一样</span></span><br><span class="line"><span class="built_in">declare</span> [+/-][选项] 变量名</span><br><span class="line">-：给变量设定类型属性</span><br><span class="line">+：取消变量的类型属性</span><br><span class="line">-i：将变量声明为Integer</span><br><span class="line">-x：将变量声明为环境变量</span><br><span class="line">-p：显示指定变量的被声明的类型</span><br><span class="line">例：计算a+b</span><br><span class="line"><span class="comment"># declare</span></span><br><span class="line">a=11</span><br><span class="line">b=22</span><br><span class="line"><span class="built_in">declare</span> -i c=<span class="variable">$a</span>+<span class="variable">$b</span>  <span class="comment"># 结果为33，而不是1122</span></span><br><span class="line"><span class="comment"># expr</span></span><br><span class="line">d=$(<span class="built_in">expr</span> <span class="variable">$a</span> + <span class="variable">$b</span>)  <span class="comment"># +左右必须有空格</span></span><br><span class="line"><span class="comment"># $(()) 或 $[]</span></span><br><span class="line">f=$(( <span class="variable">$a</span>+<span class="variable">$b</span> ))</span><br><span class="line">g=$[ <span class="variable">$a</span>+<span class="variable">$b</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment">## 运算符</span></span><br><span class="line">优先级从高到低 运算符</span><br><span class="line">13 单目负、单目正 -、+</span><br><span class="line">12 逻辑非、按位取反或补码 !、~</span><br><span class="line">11 乘除取余 *、/、%</span><br><span class="line">10 加减 +、-</span><br><span class="line">9 左移右移 &lt;&lt;、&gt;&gt;</span><br><span class="line">8 判断大小 &lt;=、&gt;=、&lt;、&gt;</span><br><span class="line">7 等于、不等于 ==、!=</span><br><span class="line">6 按位与 &amp;</span><br><span class="line">5 按位异或 ^</span><br><span class="line">4 按位或 |</span><br><span class="line">3 逻辑与 &amp;&amp;</span><br><span class="line">2 逻辑或 ||</span><br><span class="line">1 赋值 =、+=、-=、*=、/=、%=、&amp;amp;=、^=、|=、&lt;&lt;=，&gt;&gt;=</span><br></pre></td></tr></table></figure>
<h4 id="正则、排序"><a href="#正则、排序" class="headerlink" title="正则、排序"></a>正则、排序</h4><ul>
<li><p>正则表达式与通配符<br>正则是包含匹配（grep、awk、sed等命令支持正则）<br>通配符是完全匹配（ls、find、cp等命令不支持正则，只能用shell自带通配符进行匹配）</p>
</li>
<li><p>基础正则表达式<br>元字符 作用</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">*  前一个字符匹配0或多次</span><br><span class="line">.  匹配除了换行符外的任意1个字符</span><br><span class="line">^  匹配行首（例^hello匹配以hello开头的行）</span><br><span class="line">$  匹配行尾</span><br><span class="line">[]  匹配中括号中指定的任意1个字符，只匹配1个字符</span><br><span class="line">[^]  匹配中括号中的字符以外的任意1个字符（[^0-9]匹配任意1位非数字字符）</span><br><span class="line">\  转义符，取消特殊符号的含义</span><br><span class="line">\&#123;n\&#125;  表示前面的字符恰好出现n次（[0-9]\&#123;4\&#125;匹配4位数字；[1][3-8][0-9]\&#123;9\&#125;匹配手机号码）</span><br><span class="line">\&#123;n,\&#125;  表示前面的字符出现不小于n次（[0-9]\&#123;2,\&#125;表示两位及以上的数字）</span><br><span class="line">\&#123;n,m\&#125;  表示前面的字符至少出现n次、最多出现m次（[a-z]\&#123;6,8\&#125;匹配6-8位的小写字母）</span><br><span class="line"></span><br><span class="line"># 例：</span><br><span class="line">grep &quot;a*&quot; testfile.txt  # 匹配0或多次a，匹配所有内容包括空白行</span><br><span class="line">grep &quot;aa*&quot; testfile.txt  # 匹配至少有一个a的行</span><br><span class="line">grep &quot;s..d&quot; testfile.txt  # 匹配sd中间一定有2个字符的单词</span><br><span class="line">grep &quot;.*&quot; testfile.txt  # 匹配所有内容</span><br><span class="line">grep -n &quot;^$&quot; testfile.txt  # 匹配空白行</span><br><span class="line">grep &quot;\.$&quot; testfile.txt  # 匹配使用.结尾的行</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="…-…-…-sort-…-…-…-∞"><a href="#…-…-…-sort-…-…-…-∞" class="headerlink" title="… … … sort … … … ∞"></a><code>… … … sort … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sort</span> [选项] 文件名</span><br><span class="line">-f：忽略大小写</span><br><span class="line">-n：以数值型排序（默认字符串型排序）</span><br><span class="line">-r：反向排序</span><br><span class="line">-t：指定分隔符（默认是制表符）</span><br><span class="line">-k n [,m]：按照指定字段范围排序，n-m（默认到行尾）</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定分隔符:，用第3字段开头、第3字段结尾排序</span></span><br><span class="line"><span class="built_in">sort</span> -t <span class="string">&quot;:&quot;</span> -k 3,3 /etc/passwd</span><br></pre></td></tr></table></figure>
<h4 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h4><ul>
<li><p>按照文件类型进行判断<br>-b：判断文件存在且为块设备文件<br>-c：判断文件存在且为字符设备文件<br>-d：判断文件存在且为目录 *<br>-e：判断文件存在 *<br>-f：判断文件存在且为普通文件 *<br>-L：判断文件存在且为符号链接文件<br>-p：判断文件存在且为管道文件<br>-s：判断文件存在且为非空<br>-S：判断文件存在且为套接字文件</p>
</li>
<li><p>两种判断格式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">test</span> -e testfile</span><br><span class="line">[ -e testfile ]  <span class="comment"># 常用</span></span><br><span class="line">例：[ -d /root ] &amp;amp;&amp;amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>按照文件权限进行判断<br>-r：判断文件存在且有r权限<br>-w：判断文件存在且有w权限<br>-x：判断文件存在且有x权限<br>-u：判断文件存在且有SUID权限<br>-g：判断文件存在且有SGID权限<br>-k：判断文件存在且有SBit权限</p>
</li>
<li><p>两个文件间比较<br>file1 -nt file2：判断file1的修改时间是否比file2的新<br>file1 -ot file2：判断file1的修改时间是否比file2的旧<br>file1 -ef file2：判断file1和file2的Inode号是否一致，可理解为是否为同一个文件，用于判断硬链接是个好方法<br>例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建硬链接后-ef判断</span></span><br><span class="line"><span class="built_in">ln</span> file1 file2</span><br><span class="line">[ file1 -ef file2 ] &amp;amp;&amp;amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 两个整数间比较</span></span><br><span class="line">integer1 -eq integer2：判断是否相等</span><br><span class="line">integer1 -ne integer2：判断是否不相等</span><br><span class="line">integer1 -gt integer2：判断integer1是否&gt;integer2</span><br><span class="line">integer1 -lt integer2：判断integer1是否&lt;interger2</span><br><span class="line">integer1 -ge integer2：判断integer1是否&gt;=integer2</span><br><span class="line">integer1 -le integer1：判断integer1是否&lt;=integer2</span><br><span class="line"></span><br><span class="line"><span class="comment">## 字符串的判断</span></span><br><span class="line">-z string：判断字符串是否为空</span><br><span class="line">-n string：判断字符串是否为非空</span><br><span class="line">string1 == string2：判断是否相等</span><br><span class="line">string1 != string2：判断是否不相等</span><br><span class="line"></span><br><span class="line"><span class="comment">## 多重条件判断</span></span><br><span class="line">判断1 -a 判断2：逻辑与，都成立结果才为真</span><br><span class="line">判断1 -o 判断2：逻辑或，有一个成立结果就为真</span><br><span class="line">! 判断：逻辑非，使原始的判断取反</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h4><h5 id="…-…-…-if-…-…-…-∞"><a href="#…-…-…-if-…-…-…-∞" class="headerlink" title="… … … if … … … ∞"></a><code>… … … if … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## 单分支if条件</span></span><br><span class="line"><span class="keyword">if</span> [ 条件判断式 ]; <span class="keyword">then</span></span><br><span class="line">    程序</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"><span class="keyword">if</span> [ 条件判断式 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        程序</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 例：判断分区使用率</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment"># Author:jade</span></span><br><span class="line">rate=$(<span class="built_in">df</span> -h | grep <span class="string">&quot;/dev/sda3&quot;</span> | awk <span class="string">&#x27;&#123;print $5&#125;&#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&quot;%&quot;</span> -f 1)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$rate</span> -ge 80 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;warning! /dev/sda3 is full!!&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 多分支if条件</span></span><br><span class="line"><span class="keyword">if</span> [ 条件判断式1 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        程序</span><br><span class="line"><span class="keyword">elif</span> [ 条件判断式2 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        程序</span><br><span class="line">……</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    程序</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查服务是否启动</span></span><br><span class="line">nmap</span><br><span class="line"><span class="comment"># 结果是open证明服务启动</span></span><br><span class="line">nmap -sT ip | grep tcp | grep http |awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-case-…-…-…-∞"><a href="#…-…-…-case-…-…-…-∞" class="headerlink" title="… … … case … … … ∞"></a><code>… … … case … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> $变量名 <span class="keyword">in</span></span><br><span class="line">    <span class="string">&quot;value1&quot;</span>)</span><br><span class="line">        程序</span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;value2&quot;</span>)</span><br><span class="line">        程序</span><br><span class="line">        ;;</span><br><span class="line">    ……</span><br><span class="line">    *)</span><br><span class="line">        程序</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-for-…-…-…-∞"><a href="#…-…-…-for-…-…-…-∞" class="headerlink" title="… … … for … … … ∞"></a><code>… … … for … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 语法1</span></span><br><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 值1 值2 值3……</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        程序</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="comment"># 例：批量解压缩脚本</span></span><br><span class="line"><span class="built_in">ls</span> *.tar.gz &gt; jieya.log</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">cat</span> jieya.log)</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        tar -zxf <span class="variable">$i</span> &amp;amp;&gt;/dev/null</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="built_in">rm</span> -rf jieya.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 语法2</span></span><br><span class="line"><span class="keyword">for</span> (( 初始值;循环控制条件;变量变化 ))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        程序</span><br><span class="line">    <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-while-…-…-…-∞"><a href="#…-…-…-while-…-…-…-∞" class="headerlink" title="… … … while … … … ∞"></a><code>… … … while … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 条件成立进入循环</span></span><br><span class="line"><span class="keyword">while</span> [ 条件判断式 ]</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        程序</span><br><span class="line">    <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-until-…-…-…-∞"><a href="#…-…-…-until-…-…-…-∞" class="headerlink" title="… … … until … … … ∞"></a><code>… … … until … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 条件不成立进入循环</span></span><br><span class="line"><span class="keyword">until</span> [ 条件判断式 ]</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        程序</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">例：重复提示输入<span class="built_in">yes</span> no</span><br><span class="line"><span class="built_in">read</span> DEPLOYMENT_YN</span><br><span class="line"><span class="keyword">until</span> [[ <span class="variable">$&#123;DEPLOYMENT_YN&#125;</span> =~ ^([Nn][Oo]|[Nn]|[yY]|[yY][eE][sS])$ ]]; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\033[41;30;5m … … 输入错误，请重新输入 \033[0m&quot;</span></span><br><span class="line">  <span class="built_in">read</span> DEPLOYMENT_YN</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h2><h4 id="RPM包服务源码包服务"><a href="#RPM包服务源码包服务" class="headerlink" title="RPM包服务源码包服务"></a>RPM包服务源码包服务</h4><p>Linux服务包括：RPM包默认安装的服务、源码包安装的服务<br>RPM包默认安装的服务包括：独立的服务、基于xinetd服务<br>独立的服务：在内存中启动，响应更快<br>基于xinetd服务：不占用内存，但响应较慢</p>
<ul>
<li><p>启动与自启动<br>服务启动：在当前系统中让服务运行并提供功能<br>服务自启动：开机或重启后，随着系统的启动而自动启动服务</p>
</li>
<li><p>查询已安装的服务<br>RPM包安装的服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看自启动的服务，可以看到所有RPM包安装的服务，2 3 4 5如果是启用代表启用</span></span><br><span class="line">  	chkconfig --list  </span><br></pre></td></tr></table></figure></li>
<li><p>查看当前启动的服务  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps aux | grep  </span><br><span class="line">netstat -tlun</span><br></pre></td></tr></table></figure>
<p>源码包安装的服务<br>查看服务安装位置，一般是&#x2F;usr&#x2F;local&#x2F;下</p>
</li>
<li><p>RPM包安装服务与源码包安装服务的区别<br>RPM包安装在默认位置<br>源码包安装在指定位置，一般是&#x2F;usr&#x2F;local&#x2F;</p>
</li>
<li><p>RPM包服务安装默认位置<br>&#x2F;etc&#x2F;init.d&#x2F;：启动脚本位置<br>&#x2F;etc&#x2F;sysconfig&#x2F;：初始化环境配置文件位置<br>&#x2F;etc&#x2F;：配置文件位置<br>&#x2F;etc&#x2F;xinetd.conf：xinetd配置文件<br>&#x2F;etc&#x2F;xinetd.d&#x2F;：基于xinetd服务的启动脚本<br>&#x2F;var&#x2F;lib&#x2F;：服务产生的数据放在这里<br>&#x2F;var&#x2F;log&#x2F;：日志</p>
</li>
<li><p>独立服务的启动<br>&#x2F;etc&#x2F;init.d&#x2F;独立服务名 start|stop|status|restart<br>service 独立服务名 start|stop|status|restart *</p>
</li>
<li><p>独立服务的自启动<br>chkconfig [–level 运行级别] [独立服务名] [on|off]<br>修改&#x2F;etc&#x2F;rc.d&#x2F;rc.local文件 *<br>使用ntsysv命令管理自启动</p>
</li>
<li><p>源码包服务的启动<br>使用绝对路径调用启动脚本；不同的源码包的启动脚本不同，可查看对应方法<br>例：&#x2F;usr&#x2F;local&#x2F;apache2&#x2F;bin&#x2F;apachectl start|stop</p>
</li>
<li><p>源码包服务的自启动<br>修改&#x2F;etc&#x2F;rc.d&#x2F;rc.local加入&#x2F;usr&#x2F;local&#x2F;apache2&#x2F;bin&#x2F;apachectl start</p>
</li>
<li><p>让源码包服务被service命令识别，做软链接，建议不这么做<br>ln -s &#x2F;usr&#x2F;local&#x2F;apache2&#x2F;bin&#x2F;apachectl &#x2F;etc&#x2F;init.d&#x2F;apache</p>
</li>
</ul>
<hr>
<h2 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h2><ul>
<li><p>查看linux系统版本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/redhat-release</span><br></pre></td></tr></table></figure>
</li>
<li><p>进程<br>正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地址空间，并占用一定的系统资源</p>
</li>
<li><p>作用判断服务器健康状态查看系统中所有进程杀死进程</p>
</li>
<li><p>进程查看</p>
</li>
</ul>
<h5 id="…-…-…-ps-…-…-…-∞"><a href="#…-…-…-ps-…-…-…-∞" class="headerlink" title="… … … ps … … … ∞"></a><code>… … … ps … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看系统中所有进程，使用BSD操作系统格式</span></span><br><span class="line">ps aux</span><br><span class="line"><span class="comment"># 查看系统中所有进程，使用Linux标准命令格式</span></span><br><span class="line">ps -le</span><br><span class="line"><span class="comment"># 列含义  </span></span><br><span class="line">USER：该进程是由哪个用户产生的  </span><br><span class="line">PID：进程的ID号 </span><br><span class="line">%CPU：该进程占用CPU资源的百分比；占用越高，进程越耗费资源  </span><br><span class="line">%MEM：该进程占用物理内存的百分比；占用越高，进程越耗费资源  </span><br><span class="line">VSZ：该进程占用虚拟内存的大小（单位KB）  </span><br><span class="line">RSS：该进程占用实际物理内存的大小（单位KB） </span><br><span class="line">TTY：该进程是在哪个终端中运行（tty1-tty7代表本地控制台终端；tty1-tty6代表本地字符界面终端；tty7代表图形终端；pts/0-256代表虚拟终端）  </span><br><span class="line">STAT：进程状态（常见：R运行 S睡眠 T停止 s包含子进程 +位于后台）  </span><br><span class="line">START：该进程的启动时间  </span><br><span class="line">TIME：该进程占用CPU的运行时间（不是系统时间） </span><br><span class="line">COMMAND：产生此进程的命令名</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-top-…-…-…-∞"><a href="#…-…-…-top-…-…-…-∞" class="headerlink" title="… … … top … … … ∞"></a><code>… … … top … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看系统健康状态</span></span><br><span class="line">top [选项]</span><br><span class="line">-d 秒数：指定top命令每隔几秒更新（默认3s）</span><br><span class="line"><span class="comment"># 交互模式中可执行的命令  </span></span><br><span class="line">?或h：显示交互模式的帮助  </span><br><span class="line">P：以CPU使用率排序（默认） </span><br><span class="line">M：以Memory使用率排序  </span><br><span class="line">N：以PID排序  </span><br><span class="line">q：退出top</span><br><span class="line"><span class="comment"># top展示内容解析</span></span><br><span class="line">1.第一行信息为任务队列信息  </span><br><span class="line">12:26:46：系统当前时间  </span><br><span class="line">up 1 day,13:32：系统的运行时间（断电会重置）  </span><br><span class="line">2 <span class="built_in">users</span>：当前登录了2个用户 </span><br><span class="line">load average:0.00,0.00,0.00：系统在之前1min、5min、15min的平均负载（一般&lt;1时负载较小，&gt;1时系统已经超过负荷）</span><br><span class="line">2.第二行为进程信息  </span><br><span class="line">Tasks:95 total：系统中的进程总数  </span><br><span class="line">1 running：正在运行的进程数  </span><br><span class="line">94 sleeping：睡眠的进程  </span><br><span class="line">0 stopped：正在停止的进程  </span><br><span class="line">0 zombie：僵尸进程（如不为0，需手工检查僵尸进程）</span><br><span class="line">3.第三行为CPU信息  </span><br><span class="line">Cpu(s):0.1%us：用户模式占用的CPU百分比  </span><br><span class="line">0.1%sy：系统模式占用的CPU百分比  </span><br><span class="line">0.0%ni：改变过优先级的用户进程占用的CPU百分比  </span><br><span class="line">99.7%<span class="built_in">id</span>：空闲CPU的CPU百分比 * </span><br><span class="line">0.1%wa：等待输入/输出的进程的占用CPU百分比  </span><br><span class="line">0.0%hi：硬中断请求服务占用的CPU百分比  </span><br><span class="line">0.1%si：软中断请求服务占用的CPU百分比  </span><br><span class="line">0.0%st：st（Steal <span class="keyword">time</span>）虚拟时间百分比（当有虚拟机时，虚拟CPU等待实际CPU的时间百分比）</span><br><span class="line">4.第四行物理内存信息 </span><br><span class="line">Mem:625344k total：物理内存的总量（单位KB）  </span><br><span class="line">571504l used：已经使用的物理内存数量  </span><br><span class="line">53840k free：空闲的物理内存数量  </span><br><span class="line">65800k buffers：作为缓冲的内存数量</span><br><span class="line">5.第五行交换分区（swap）信息  </span><br><span class="line">Swap:524280k total：交换分区（虚拟内存）的总大小；最大不超过2G，否则就是浪费空间  </span><br><span class="line">0k used：已经使用的交互分区的大小  </span><br><span class="line">524280k free：空闲交换分区的大小  </span><br><span class="line">409280k cached：作为缓存的交互分区的大小</span><br><span class="line">iotop</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-pstree-…-…-…-∞"><a href="#…-…-…-pstree-…-…-…-∞" class="headerlink" title="… … … pstree … … … ∞"></a><code>… … … pstree … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看进程树</span></span><br><span class="line">pstree [选项]</span><br><span class="line">-p：显示进程的PID</span><br><span class="line">-u：显示进程的所属用户</span><br></pre></td></tr></table></figure>
<ul>
<li>进程管理</li>
</ul>
<h5 id="…-…-…-kill-…-…-…-∞"><a href="#…-…-…-kill-…-…-…-∞" class="headerlink" title="… … … kill … … … ∞"></a><code>… … … kill … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> -l  <span class="comment"># 查看可用的进程信号</span></span><br><span class="line"><span class="built_in">kill</span> -1 PID  <span class="comment"># 重启进程</span></span><br><span class="line"><span class="built_in">kill</span> -9 PID  <span class="comment"># 强制杀死进程</span></span><br><span class="line"><span class="comment"># 常用信号代号 名称  </span></span><br><span class="line">1 SIGHUP 该信号让进程立即关闭，然后重新读取配置文件后重启 *  </span><br><span class="line">2 SIGINT 程序终止信号，用于终止前台进程（相当于ctrl+c）  </span><br><span class="line">8 SIGFPE 发生致命的算术运算错误时发出（不仅包括浮点运算错误，还包括溢出及除数为0等其他所有的算数错误）  </span><br><span class="line">9 SIGKILL 立即结束程序的运行，一般用于强制终止进程（此信号不能被阻塞、处理和忽略）*  </span><br><span class="line">14 SIGALRM 时钟定时信号，alarm函数使用该信号（计算的是实际时间或时钟时间）  </span><br><span class="line">15 SIGTERM 正常结束进程的信号，<span class="built_in">kill</span>的默认信号（有时此信号无法正常终止进程，才尝试使用9 SIGKILL信号）*  </span><br><span class="line">18 SIGCONT 让暂停的进程恢复执行（此信号不能被阻断）  </span><br><span class="line">19 SIGSTOP 暂停前台进程（相当于ctrl+z）（此信号不能被阻断）</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-killall-…-…-…-∞"><a href="#…-…-…-killall-…-…-…-∞" class="headerlink" title="… … … killall … … … ∞"></a><code>… … … killall … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 按照进程名杀死进程</span></span><br><span class="line">killall [选项][信号] 进程号</span><br><span class="line">-i：交互式，询问是否要杀死某个进程</span><br><span class="line">-I：忽略进程名的大小写</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-pkill-…-…-…-∞"><a href="#…-…-…-pkill-…-…-…-∞" class="headerlink" title="… … … pkill … … … ∞"></a><code>… … … pkill … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 按照进程名终止进程</span></span><br><span class="line">-t 终端号：按照终端号踢出用户</span><br><span class="line">例：</span><br><span class="line">w <span class="comment"># 查询本机已经登录的用户</span></span><br><span class="line">pkill -t -9 pts/1 <span class="comment"># 强制杀死从pts/1虚拟终端登录的进程</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 工作管理</span></span><br><span class="line"><span class="comment"># 把进程放入后台</span></span><br><span class="line">1.用&amp;amp;放入后台</span><br><span class="line">tar -zcf testfile.tar.gz /tmp &amp;amp;</span><br><span class="line">2.ctrl+z</span><br><span class="line">top执行中按下ctrl+z</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-jobs-…-…-…-∞"><a href="#…-…-…-jobs-…-…-…-∞" class="headerlink" title="… … … jobs … … … ∞"></a><code>… … … jobs … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看后台的工作</span></span><br><span class="line"><span class="built_in">jobs</span> [-l]</span><br><span class="line">-l：显示工作的PID</span><br><span class="line">（+代表最近一个放入后台的工作，也是工作恢复时默认恢复的工作）</span><br><span class="line">（-代表代数第二个放入后台的工作）</span><br><span class="line">（其他没有符号标记）</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-fg-…-…-…-∞"><a href="#…-…-…-fg-…-…-…-∞" class="headerlink" title="… … … fg … … … ∞"></a><code>… … … fg … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将后台暂停的工作恢复到前台执行</span></span><br><span class="line"><span class="built_in">fg</span> %工作号%工作号：%号可省略，工作号和PID不是一个，工作号是<span class="built_in">jobs</span>显示的号</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-bg-…-…-…-∞"><a href="#…-…-…-bg-…-…-…-∞" class="headerlink" title="… … … bg … … … ∞"></a><code>… … … bg … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">bg</span> %工作号</span><br><span class="line"><span class="comment"># 和前台有交互的命令，不能恢复到后台执行，例top、vi</span></span><br></pre></td></tr></table></figure>
<ul>
<li>系统资源查看</li>
</ul>
<h5 id="…-…-…-vmstat-…-…-…-∞"><a href="#…-…-…-vmstat-…-…-…-∞" class="headerlink" title="… … … vmstat … … … ∞"></a><code>… … … vmstat … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 监控系统资源</span></span><br><span class="line">vmstat [刷新延时 刷新次数]</span><br><span class="line">vmstat 1 3  <span class="comment"># 监听3次系统资源，每隔2s</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-dmesg-…-…-…-∞"><a href="#…-…-…-dmesg-…-…-…-∞" class="headerlink" title="… … … dmesg … … … ∞"></a><code>… … … dmesg … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 开机时内核检查</span></span><br><span class="line">dmesg</span><br><span class="line">dmesg | grep CPU</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看内核日志是否打raid卡堆栈信息</span></span><br><span class="line">dmesg -T |grep megasas_probe_one -C5</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-free-…-…-…-∞"><a href="#…-…-…-free-…-…-…-∞" class="headerlink" title="… … … free … … … ∞"></a><code>… … … free … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看内存使用状态、空闲情况，默认树形Mem物理内存swap交互区内存 内核缓存区内存</span></span><br><span class="line">free [-b|-k|-m|-g]</span><br><span class="line">-b：以字节为单位显示</span><br><span class="line">-k：以KB为单位显示（默认）</span><br><span class="line">-m：以MB为单位显示</span><br><span class="line">-g：以GB为单位显示</span><br><span class="line">[-s&lt;间隔秒数&gt; 持续观察内存使用状况]</span><br><span class="line">[-t 显示内存总和列]</span><br><span class="line">[-l 以列表形式]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 缓存和缓冲的区别</span></span><br><span class="line">缓存（cache）：用来加速数据从硬盘中读取</span><br><span class="line">缓冲（buffer）：用来加速数据写入硬盘</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看CPU信息</span></span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo</span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo | grep processor</span><br><span class="line"><span class="built_in">nproc</span></span><br><span class="line">lscpu</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-uptime-…-…-…-∞"><a href="#…-…-…-uptime-…-…-…-∞" class="headerlink" title="… … … uptime … … … ∞"></a><code>… … … uptime … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">uptime</span>  <span class="comment"># 显示系统的启动时间和平均负载（相当于top第一行），w也可以看到</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-uname-…-…-…-∞"><a href="#…-…-…-uname-…-…-…-∞" class="headerlink" title="… … … uname … … … ∞"></a><code>… … … uname … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看系统与内核相关信息</span></span><br><span class="line"><span class="built_in">uname</span> [选项]</span><br><span class="line">-a：查看系统所有相关信息</span><br><span class="line">-r：查看内核版本</span><br><span class="line">-s：查看内核名称</span><br><span class="line"></span><br><span class="line">file /bin/ls  <span class="comment"># 判断当前系统的位数</span></span><br><span class="line">lsb_release -a  <span class="comment"># 查看当前Linux系统的发行版本</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-lsof-…-…-…-∞"><a href="#…-…-…-lsof-…-…-…-∞" class="headerlink" title="… … … lsof … … … ∞"></a><code>… … … lsof … … … ∞</code></h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">列出进程调用或打开的文件的信息</span><br><span class="line">lsof [选项]</span><br><span class="line">-c 字符串：只列出以字符串开头的进程打开的文件</span><br><span class="line">-u 用户名：只列出某个用户的进程打开的文件</span><br><span class="line">-p pid：列出某个PID进程打开的文件</span><br><span class="line">lsof -c init</span><br><span class="line"></span><br><span class="line">## 系统定时任务</span><br><span class="line">crond服务管理与访问控制</span><br><span class="line">service crond restart</span><br><span class="line">chkconfig crond on</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-crontab-…-…-…-∞"><a href="#…-…-…-crontab-…-…-…-∞" class="headerlink" title="… … … crontab … … … ∞"></a><code>… … … crontab … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">crontab [选项]</span><br><span class="line">-e：编辑crontab定时任务</span><br><span class="line">-l：查询crontab任务</span><br><span class="line">-r：删除当前用户所有的crontab任务</span><br><span class="line">-u: 指定用户，不写默认是当前用户</span><br><span class="line"></span><br><span class="line">crontab -e界面（最小识别的范围是分钟）</span><br><span class="line">* * * * * 执行的任务（绝对路径）</span><br><span class="line">第1个*：一小时中的第几分钟 [0,59]</span><br><span class="line">第2个*：一天中的第几小时 [0,23]</span><br><span class="line">第3个*：一个月中的第几天 [1,31]</span><br><span class="line">第4个*：一年中的第几月 [1,12]</span><br><span class="line">第5个*：一周中的星期几 [0,7]（0、7都代表周日）</span><br><span class="line"></span><br><span class="line">特殊符号：</span><br><span class="line">*：任何时间</span><br><span class="line">,：不连续的时间</span><br><span class="line">-：连续的时间范围</span><br><span class="line">*/n：频率，每隔多久执行一次</span><br><span class="line">例：</span><br><span class="line">0 5 1,15 * * 命令  每月1号,15号的凌晨5点0分执行命令</span><br><span class="line">40 4 * * 1-5 命令  每周一到周五的凌晨4点40执行命令</span><br><span class="line">*/10 4 * * * 命令  每天凌晨4点，每隔10分钟执行一次命令</span><br><span class="line">10-20/2 * * * * /usr/bin/date &gt;&gt; /opt/time  每小时的10分-20分内每隔2分执行一次</span><br><span class="line"><span class="comment"># 注意</span></span><br><span class="line">定时任务调用的脚本内，%号要转义，否则不识别</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-lspci-…-…-…-∞"><a href="#…-…-…-lspci-…-…-…-∞" class="headerlink" title="… … … lspci … … … ∞"></a><code>… … … lspci … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci |grep -i sas 查看raid卡型号</span><br><span class="line">查看raid卡固件版本和驱动版本</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;LSI&quot;</span> &amp;&amp; /opt/MegaRAID/storcli/storcli64 /c0 show |grep -E <span class="string">&#x27;FW Version|Driver Version&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;PMC&quot;</span> &amp;&amp; /usr/sbin/arcconf getconfig 1 ad |grep -wE <span class="string">&#x27;Firmware|Driver *:&#x27;</span></span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-systemctl-…-…-…-∞"><a href="#…-…-…-systemctl-…-…-…-∞" class="headerlink" title="… … … systemctl … … … ∞"></a><code>… … … systemctl … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#列出启动失败的服务</span></span><br><span class="line">systemctl list-units --state failed</span><br><span class="line">systemctl status [unit]</span><br><span class="line"><span class="comment"># 设置开机自启，并且立即启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> crond --now</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-md5-…-…-…-∞"><a href="#…-…-…-md5-…-…-…-∞" class="headerlink" title="… … … md5 … … … ∞"></a><code>… … … md5 … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md5sum</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="日志管理"><a href="#日志管理" class="headerlink" title="日志管理"></a>日志管理</h2><ul>
<li><p>日志服务<br>centos6.x中日志服务由rsyslogd取代原本的syslogd<br>rsyslogd更先进、功能更多，和syslogd相兼容</p>
</li>
<li><p>rsyslogd的新特点<br>基于TCP网络协议传输日志信息<br>更安全的网络传输方式<br>有日志消息的及时分析框架<br>后台数据库  配置文件中可以写简单的逻辑判断<br>与syslog配置文件相兼容</p>
</li>
<li><p>查看rsyslogd服务是否启动</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps aux | grep rsyslogd</span><br></pre></td></tr></table></figure></li>
<li><p>查看是否自启动</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chkconfig --list | grep rsyslog</span><br></pre></td></tr></table></figure>
</li>
<li><p>常见日志的作用<br>&#x2F;var&#x2F;log&#x2F;cron：系统定时任务相关日志<br>&#x2F;var&#x2F;log&#x2F;cups&#x2F;：打印信息日志<br>&#x2F;var&#x2F;log&#x2F;dmesg：系统在开机时内核自检的信息，也可使用dmesg直接查看内核自检信息<br>&#x2F;var&#x2F;log&#x2F;btmp：错误登录的日志（二进制文件，不能用vi查看，需要使用lastb命令查看）<br>&#x2F;var&#x2F;log&#x2F;lastlog：系统中所有用户最后一次的登录时间的日志（二进制文件，使用lastlog查看）<br>&#x2F;var&#x2F;log&#x2F;mailog：邮件信息<br>&#x2F;var&#x2F;log&#x2F;message：系统重要信息的日志（记录linux系统绝大多数重要信息，如出现问题，首先检查该文件）<br>&#x2F;var&#x2F;log&#x2F;secure：验证和授权方面的信息，只要涉及账户和密码的程序都会记录（比如系统的登录、ssh的登录、su切换用户、sudo授权、useradd、修改用户密码都会记录在此）<br>&#x2F;var&#x2F;log&#x2F;wtmp：永久记录所有用户的登录、注销信息，同时记录系统的启动、重启、关机时间（二进制文件，用last查看）<br>&#x2F;var&#x2F;run&#x2F;utmp：当前已登录的用户信息，会随着用户的登录、注销而不断变化，只记录当前登录用户信息（二进制文件，用w、who、users等命令查看）<br>除系统默认的日志外，rpm安装的系统服务也会默认把日志记录在&#x2F;var&#x2F;log&#x2F;中（源码包安装的服务日志在源码包指定目录中），不由rsyslogd服务来记录和管理，由各个服务使用自己的日志管理文档来记录自身日志</p>
</li>
<li><p>rpm包安装服务的日志<br>&#x2F;var&#x2F;log&#x2F;httpd&#x2F;：rpm包安装的apache服务的默认日志目录<br>&#x2F;var&#x2F;log&#x2F;mail&#x2F;：rpm包安装的邮件服务的额外日志目录<br>&#x2F;var&#x2F;log&#x2F;samba&#x2F;：rpm包安装的samba服务的日志目录<br>&#x2F;var&#x2F;log&#x2F;sssd&#x2F;：守护进程安全服务目录</p>
</li>
<li><p>rsyslogd服务日志文件格式<br>时间产生的时间、发生事件的服务器的主机名、产生时间的服务名或程序名、事件的具体信息</p>
</li>
<li><p>&#x2F;etc&#x2F;rsyslog.conf配置文件</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># 服务名称[连接符号]日志等级  日志记录位置</span><br><span class="line">authpriv.*  /var/log/securre  # 认证相关服务.所有日志等级  记录在/var/log/secure日志中</span><br><span class="line">1.服务名称</span><br><span class="line">auth：安全和认证相关消息（不推荐使用authpriv替代）</span><br><span class="line">authpriv：安全和认证相关消息（私有的）</span><br><span class="line">cron：系统定时任务cront和at产生的日志</span><br><span class="line">demon：和各个守护进程相关的日志</span><br><span class="line">ftp：ftp守护进程产生的日志</span><br><span class="line">kern：内核产生的日志（不是用户进程产生的）</span><br><span class="line">local0-local7：为本地使用预留的服务</span><br><span class="line">lpr：打印产生的日志</span><br><span class="line">mail：邮件收发信息</span><br><span class="line">news：与新闻服务器相关的日志</span><br><span class="line">syslog：syslogd服务产生的日志信息（虽然服务名已改为rsyslogd，但很多配置都还沿用syslogd）</span><br><span class="line">user：用户等级类别的日志信息</span><br><span class="line">uucp：uucp子系统的日志信息，uucp是早期linux系统进行数据传递的协议，后来也常用在新闻组服务中</span><br><span class="line">2.连接符号</span><br><span class="line">*：代表所有日志等级</span><br><span class="line">.：代表只要比后面的等级高的日志都记录下来（cron.info代表cron服务产生的日志，只要日志登记≥info级别就记录）</span><br><span class="line">.=：代表只记录所需等级日志，其他等级都不记录（*.=emerg代表人和日志服务产生的日志，只要等级是emerg等级就记录，这种用法极少见）</span><br><span class="line">.!：代表不等于，除了该等级的日志外都记录</span><br><span class="line">3.日志等级</span><br><span class="line">debug：一般的调试信息说明</span><br><span class="line">info：基本的通知信息</span><br><span class="line">notice：普通信息，但有一定的重要性</span><br><span class="line">warning：警告信息，但还不会影响到服务或系统的运行</span><br><span class="line">err：错误信息，一般达到err等级的信息已经可以影响到服务或系统的运行了</span><br><span class="line">crit：临界状态信息，比err等级还要严重</span><br><span class="line">alert：警告状态信息，比crit还要严重，必须立即采取行动</span><br><span class="line">emerg：疼痛等级信息，系统已无法使用</span><br><span class="line">4.日志记录位置</span><br><span class="line">日志文件的绝对路径，如/var/log/secure</span><br><span class="line">系统设备文件，如/dev/lp0</span><br><span class="line">转发给远程主机，如@192.168.0.210.514</span><br><span class="line">用户名，如root</span><br><span class="line">忽略或丢弃日志，如~</span><br></pre></td></tr></table></figure></li>
<li><p>日志轮替</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># 日志文件的命名规则</span><br><span class="line">1.如果配置文件中有用dateext参数，日志会用日期作为后缀，例secure-20221219，这样文件名不会重叠</span><br><span class="line">2.如果配置文件中没有dateext参数，日志文件需要进行改名。第一次进行日志轮替时，当前secure自动改名为secure.1，新建secure日志用来保存新的日志，第二次轮替，secure.1自动改名为secure.2以此类推</span><br><span class="line"># logrotate配置文件</span><br><span class="line">daily：日志轮替周期为每天</span><br><span class="line">weekly：日志轮替周期为每周</span><br><span class="line">monthly：日志轮替周期为每月</span><br><span class="line">rotate 数字：保留的日志文件的个数，0指没有备份</span><br><span class="line">compress：日志轮替时，旧的日志进行压缩</span><br><span class="line">create mode owner group：建立新日志，同时指定新日志的权限与所有者和所属组（如create 0600 root utmp）</span><br><span class="line">mail address：日志轮替时，输出内容通过邮件发送到指定邮件地址</span><br><span class="line">missingok：如果日志不存在，则忽略该日志的警告信息</span><br><span class="line">notifempty：如果日志为空文件，则不进行日志轮替</span><br><span class="line">minsize 大小：日志轮替的最小值，日志一定要达到最小值才会轮替，否则就算时间达到也不轮替</span><br><span class="line">size 大小：日志只有大于指定大小才进行日志轮替，而不是按照时间轮替（如size 100k）</span><br><span class="line">dateext：使用日期作为日志轮替文件的后缀</span><br><span class="line"># 把apache日志加入轮替</span><br><span class="line">vi /etc/logrotate.conf</span><br><span class="line">/usr/local/apache2/logs/access_log &#123;</span><br><span class="line">    daily</span><br><span class="line">    create</span><br><span class="line">    rotate 30</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="…-…-…-logrotate-…-…-…-∞"><a href="#…-…-…-logrotate-…-…-…-∞" class="headerlink" title="… … … logrotate … … … ∞"></a><code>… … … logrotate … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">logrotate [选项] 配置文件名</span><br><span class="line">空选项：按照配置文件中的条件进行日志轮替</span><br><span class="line">-v：显示日志轮替过程</span><br><span class="line">-f：强制进行日志轮替（不管日志轮替的条件是否已符合，强制配置文件中所有的日志进行轮替）</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="启动管理"><a href="#启动管理" class="headerlink" title="启动管理"></a>启动管理</h2><ul>
<li>CentOS6.x启动管理<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># 系统运行级别</span><br><span class="line">0：关机</span><br><span class="line">1：单用户模式（相当于windows的安全模式，主要用于系统修复）</span><br><span class="line">2：不完全的命令行模式，不含NFS服务</span><br><span class="line">3：完全的命令行模式，就是标准字符界面</span><br><span class="line">4：系统保留</span><br><span class="line">5：图形模式</span><br><span class="line">6：重启动</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="…-…-…-runlevel-…-…-…-∞"><a href="#…-…-…-runlevel-…-…-…-∞" class="headerlink" title="… … … runlevel … … … ∞"></a><code>… … … runlevel … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">查看运行级别</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-init-…-…-…-∞"><a href="#…-…-…-init-…-…-…-∞" class="headerlink" title="… … … init … … … ∞"></a><code>… … … init … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 改变运行级别</span></span><br><span class="line">init 运行级别</span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统默认运行级别</span></span><br><span class="line">vim /etc/inittab</span><br><span class="line"><span class="comment"># 系统开机后直接进入指定运行级别</span></span><br><span class="line"><span class="built_in">id</span>:3:initdefault:</span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统启动过程</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="备份恢复"><a href="#备份恢复" class="headerlink" title="备份恢复"></a>备份恢复</h2><ul>
<li><p>linux系统需要备份的数据<br>&#x2F;root&#x2F;目录、&#x2F;home&#x2F;目录、&#x2F;var&#x2F;spool&#x2F;mail&#x2F;目录、&#x2F;etc&#x2F;目录、其他目录</p>
</li>
<li><p>备份策略<br>完全备份：把左右需要备份的数据全部备份，可备份整块硬盘、整个分区或某个具体的目录<br>增量备份：<br>差异备份：</p>
</li>
</ul>
<h5 id="…-…-…-dump-…-…-…-∞"><a href="#…-…-…-dump-…-…-…-∞" class="headerlink" title="… … … dump … … … ∞"></a><code>… … … dump … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dump [选项] 备份后的文件名 原文件或目录</span><br><span class="line">-level：0-9十个备份级别</span><br><span class="line">-f 文件名：指定备份后的文件名</span><br><span class="line">-u：备份成功后，把备份时间记录在/etc/dumpdates文件</span><br><span class="line">-v：显示备份过程中更多的输出信息</span><br><span class="line">-j：调用bzlib库压缩备份文件，其实就是把备份文件压缩成.bz2格式</span><br><span class="line">-W：显示允许被dump的分区的备份等级及备份时间</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h5 id="…-…-…-chrony-…-…-…-∞"><a href="#…-…-…-chrony-…-…-…-∞" class="headerlink" title="… … … chrony … … … ∞"></a><code>… … … chrony … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chronyc sources -v</span><br><span class="line">^* 代表正确</span><br><span class="line">^? 异常，需检查配置文件</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-tcpdump-…-…-…-∞"><a href="#…-…-…-tcpdump-…-…-…-∞" class="headerlink" title="… … … tcpdump … … … ∞"></a><code>… … … tcpdump … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tcpdump -i eth0 vrrp -n</span><br><span class="line">[ecm00]# tcpdump -nnei tapd12345-67 icmp and host <span class="variable">$&#123;ip&#125;</span></span><br><span class="line"></span><br><span class="line">tcpdump -nnei bond_virt icmp and host <span class="variable">$&#123;ip1&#125;</span> and host <span class="variable">$&#123;ip2&#125;</span></span><br><span class="line">VLAN861，虚机1（宿主机1）丢包，抓包现象是包到了目标节点，目标节点的回包从目标节点出去后，没回到源节点</span><br><span class="line">网络上没有查出有异常情况，上述三个mac均在一个接入交换机上，端口，光功率，链路，lldp的端口连线，lacp均正常，收发包正常，mac学习正常，无飘逸，无环路</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-openssl-…-…-…-∞"><a href="#…-…-…-openssl-…-…-…-∞" class="headerlink" title="… … … openssl … … … ∞"></a><code>… … … openssl … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#生成随机密码</span></span><br><span class="line">openssl rand -<span class="built_in">base64</span> 14 | <span class="built_in">cut</span> -b 1-14</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-登录信息-…-…-…-∞"><a href="#…-…-…-登录信息-…-…-…-∞" class="headerlink" title="… … … 登录信息 … … … ∞"></a><code>… … … 登录信息 … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">登录机器分别排查一下登录记录等信息</span><br><span class="line"><span class="built_in">tail</span> -n 100 /var/log/secure | /bin/grep Accepted</span><br><span class="line"><span class="built_in">tail</span> -n 50 /root/.bash_history</span><br><span class="line"><span class="built_in">tail</span> -n 10 /etc/shadow</span><br><span class="line">/sbin/ss -antp</span><br><span class="line">dmesg|<span class="built_in">tail</span> -n 50</span><br><span class="line"><span class="built_in">cat</span> /etc/login.defs|/bin/grep -v ^#</span><br><span class="line">crontab -l</span><br><span class="line"><span class="built_in">cat</span> /etc/haproxy/haproxy.cfg | /bin/grep -v ^#</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-git-…-…-…-∞"><a href="#…-…-…-git-…-…-…-∞" class="headerlink" title="… … … git … … … ∞"></a><code>… … … git … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## 提交代码</span></span><br><span class="line">git add. // 添加分支代码到暂存区域</span><br><span class="line">git commit -m <span class="string">&quot;fixed:----&quot;</span> // 提交分支代码</span><br><span class="line">git commit --amend -m <span class="string">&quot;修改一下&quot;</span> // 修改最近一次commit</span><br><span class="line">git reset --soft HEAD^ // 撤销最近一次commit</span><br><span class="line">git reset --soft HEAD~n // 撤销最近n次commit</span><br><span class="line">git revert HEAD // 撤销更改并推到远端</span><br><span class="line"><span class="comment">## 分支</span></span><br><span class="line">git branch // 查看当前分支</span><br><span class="line">git branch -a // 查看远程分支</span><br><span class="line">git branch <span class="variable">$&#123;分支名&#125;</span> // 创建分支,仅保存本地</span><br><span class="line">git push 远程仓库名 <span class="variable">$&#123;远程分支名&#125;</span> // 推到远端</span><br><span class="line">git checkout <span class="variable">$&#123;分支名&#125;</span> // 切换本地分支</span><br><span class="line">git switch <span class="variable">$&#123;分支名&#125;</span> // 切换本地分支</span><br><span class="line">git checkout -b <span class="variable">$&#123;分支名&#125;</span> // 创建新分支并切换到新分支</span><br><span class="line">git merge bugFix // 合并bugFix分支到当前分支（合并后还是两个分支，只不过merge后在这个点交汇，建议用merge）</span><br><span class="line">git rebase bugFix // 合并bugFix分支到当前分支（合并前commit会消失，合并为一个分支）</span><br><span class="line"><span class="comment"># 查看当前分支</span></span><br><span class="line">git status</span><br><span class="line"><span class="comment"># 查看当前分支提交历史</span></span><br><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure>



<h5 id="…-…-…-dmidecode-…-…-…-∞"><a href="#…-…-…-dmidecode-…-…-…-∞" class="headerlink" title="… … … dmidecode … … … ∞"></a><code>… … … dmidecode … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看是虚机还是物理机</span></span><br><span class="line">dmidecode -t system</span><br><span class="line">systemd-detect-virt  结果none是物理机</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-sar-…-…-…-∞"><a href="#…-…-…-sar-…-…-…-∞" class="headerlink" title="… … … sar … … … ∞"></a><code>… … … sar … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看时间段负载记录</span></span><br><span class="line">sar -q -s 15:00:00 -e 16:00:00</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-storcli64-…-…-…-∞"><a href="#…-…-…-storcli64-…-…-…-∞" class="headerlink" title="… … … storcli64 … … … ∞"></a><code>… … … storcli64 … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">存储节点存在过周六11点左右业务卡顿的问题，将raid卡的CC和PR功能关闭，问题解决。</span><br><span class="line">CC&amp;PR一般是在每周六的11点开始启动，会占用磁盘IO，特殊情况下CC会长时间无法完成</span><br><span class="line"> </span><br><span class="line">近期容器管理节点出现卡顿问题，经排查是CC和PR导致，现建议关闭已受影响的节点。</span><br><span class="line"> </span><br><span class="line">故障现象：</span><br><span class="line">1，机器卡顿</span><br><span class="line">2，磁盘使用率高</span><br><span class="line">3，CPU使用率高</span><br><span class="line">4，此故障常出现于周六11时左右</span><br><span class="line"> </span><br><span class="line">如无其他硬件及业务问题请关闭CC&amp;PR</span><br><span class="line">LSI raid卡（Broadcom博科旗下）关闭方法：</span><br><span class="line"><span class="comment"># 停止当前任务</span></span><br><span class="line">/opt/MegaRAID/storcli/storcli64 /c0 stop patrolread</span><br><span class="line"><span class="comment"># 彻底关闭pr</span></span><br><span class="line">/opt/MegaRAID/storcli/storcli64 /c0 <span class="built_in">set</span> patrolread=off</span><br><span class="line"></span><br><span class="line"> <span class="comment"># 停止当前任务</span></span><br><span class="line">/opt/MegaRAID/storcli/storcli64 /c0/vall stop cc</span><br><span class="line"><span class="comment"># 彻底关闭cc</span></span><br><span class="line">/opt/MegaRAID/storcli/storcli64 /c0 <span class="built_in">set</span> cc=off</span><br><span class="line"> </span><br><span class="line">Adaptec（Microchip微芯旗下）卡关闭方法：</span><br><span class="line"><span class="comment"># PM卡只有一个cc参数，两者同时关闭开启</span></span><br><span class="line">arcconf CONSISTENCYCHECK 1 off</span><br></pre></td></tr></table></figure>
<h5 id="…-…-…-hostname-…-…-…-∞"><a href="#…-…-…-hostname-…-…-…-∞" class="headerlink" title="… … … hostname … … … ∞"></a><code>… … … hostname … … … ∞</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hostname -f 查看fqdn 主机名+域名 完全域名</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
        <blockquote class="article-copyright">
    <p><strong><span class="icon-user icon"></span>著者: </strong>本堂主 @ 本堂主Blog</p>
    <p><strong><span class="icon-link icon"></span>パーマリンク: </strong><a href="https://jade-xyy.github.io/ja/2025/04/05/Linux%E5%A4%87%E5%BF%98-%E4%B8%8B/">https://jade-xyy.github.io/ja/2025/04/05/Linux%E5%A4%87%E5%BF%98-%E4%B8%8B/</a></p>
    
    
    
    <p><strong><span class="icon-copyright icon"></span>ライセンス: </strong>本ブログのすべての文書は、特に指定されていない限り、<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener external nofollow noreferrer" target="_blank"><span class="icon-creative-commons"></span>BY-NC-SA</a> ライセンスに従っています。引用の際は出典を明記してください！</p>
    <span class="icon-creative-commons article-copyright-bg"></span>
  </blockquote>
      
      
      
        <div class="share-wrapper">
  
    <a href="http://connect.qq.com/widget/shareqq/index.html?url=https%3A%2F%2Fjade-xyy.github.io%2F2025%2F04%2F05%2FLinux%25E5%25A4%2587%25E5%25BF%2598-%25E4%25B8%258B%2F&amp;title=Linux%E5%A4%87%E5%BF%98%20-%20%E4%B8%8B&amp;desc=Linux%E5%A4%87%E5%BF%98%20-%20%E4%B8%8B&amp;source=https%3A%2F%2Fjade-xyy.github.io" target="_blank" rel="noopener noreferrer" title="Linux备忘 - 下">
      <div class="share-icon icon icon-qq">
        
      </div>
    </a>
  
    <a href="javascript:;"  title="Linux备忘 - 下">
      <div class="share-icon icon icon-weixin">
        
          <div id="share-weixin">
            <div class="share-weixin-dom">
              <div class="share-weixin-content">
                <img id="share-weixin-banner"> 
                <div id="share-weixin-title"></div>
                <div id="share-weixin-desc"></div>
              </div>
              <div class="share-weixin-qrcode">
                <div class="share-weixin-info">
                  <div id="share-weixin-author"></div>
                  <div id="share-weixin-theme">Powered By hexo-theme-reimu</div>
                </div>
                <img id="share-weixin-qr" >
              </div>
            </div>
            <div class="share-weixin-canvas"></div>
          </div>
        
      </div>
    </a>
  
</div>
      
      
        <a data-aos="zoom-in" href="/ja/2025/04/05/Linux%E5%A4%87%E5%BF%98-%E4%B8%8B/#comments" class="article-comment-link">
          <span class="post-comments-count valine-comment-count" data-xid="/ja/2025/04/05/Linux%E5%A4%87%E5%BF%98-%E4%B8%8B/" itemprop="commentCount"></span>
          コメント
        </a>
      
      
      
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/ja/tags/linux/" rel="tag">linux</a></li></ul>


    </footer>
  </div>
  
  <nav id="article-nav" data-aos="fade-up">
    
      
      <div class="article-nav-link-wrap article-nav-link-left">
        
          
          
            <img data-src="https://d-sketon.top/img/backimg/bg18.jpg" data-sizes="auto" alt="VALORANT" class="lazyload">
          
        
        <a href="/ja/2025/04/07/valorant/"></a>
        <div class="article-nav-caption">次の記事</div>
        <h3 class="article-nav-title">
          
            VALORANT
          
        </h3>
      </div>
    
    
    
    <div class="article-nav-link-wrap article-nav-link-right">
      
        
        
          <img data-src="/covers/bangboo1.jpg" data-sizes="auto" alt="Linux备忘 - 上" class="lazyload">
        
      
      <a href="/ja/2025/04/03/Linux%E5%A4%87%E5%BF%98-%E4%B8%8A/"></a>
      <div class="article-nav-caption">前の記事</div>
      <h3 class="article-nav-title">
        
          Linux备忘 - 上
        
      </h3>
    </div>
    
  </nav>


</article>









  <section id="comments" data-aos="fade-up">
    <div class="comment-header">
      <h2 class="comment-title">说些什么吧！</h2>
      <div class="comment-selector">
        <div class="comment-selector-wrap">
            
            <div class="selector-item" data-selector="valine">
              <span>valine</span>
            </div>
            
        </div>
      </div>
    </div>
    <div class="comment-content">
      
        <div class="comment valine-comment" data-aos="fade-up"
          id="valine-comment">
        </div>
      
    </div>
  </section>


</section>
        </div>
        
        
        <footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info">
    
    <div>
      <span class="icon-copyright"></span>
      
      
      
        2025
      
      <span class="footer-info-sep rotate"></span>
      本堂主
    </div>
    
      <div>
        Powered by&nbsp;<a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a>&nbsp;
        Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" rel="noopener external nofollow noreferrer" target="_blank">Reimu</a>
      </div>
    
    
      <div>
        <span class="icon-brush"></span>
        57.9k
        &nbsp;|&nbsp;
        <span class="icon-coffee"></span>
        03:58
      </div>
    
    
    
    
      <div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv">総閲覧数&nbsp;<span id="busuanzi_value_site_pv"></span></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv">総閲覧者数&nbsp;<span id="busuanzi_value_site_uv"></span></span>
      </div>
    
  </div>
</footer>

        
          <div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div>
        
        <div id="mask" class="hide"></div>
      </div>
      <nav id="mobile-nav">
  <div class="sidebar-wrap">
    
      
        <div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">見出し</h3>
  <div class="sidebar-toc-wrapper toc-div-class" >
      
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">Shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">1.0.1.</span> <span class="toc-text">基本功能</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-echo-e-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.1.</span> <span class="toc-text">… … … echo -e … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-history-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.2.</span> <span class="toc-text">… … … history … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-alias-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.3.</span> <span class="toc-text">… … … alias … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-wc-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.4.</span> <span class="toc-text">… … … wc … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dd-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.5.</span> <span class="toc-text">… … … dd … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.1.6.</span> <span class="toc-text">… … … | … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E3%80%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.0.2.</span> <span class="toc-text">变量、环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-export-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">… … … export … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-read-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">… … … read … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-set-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.2.3.</span> <span class="toc-text">… … … set … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.3.</span> <span class="toc-text">环境变量配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-source-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.3.1.</span> <span class="toc-text">… … … source … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.0.4.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-declare-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">… … … declare … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E3%80%81%E6%8E%92%E5%BA%8F"><span class="toc-number">1.0.5.</span> <span class="toc-text">正则、排序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-sort-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">… … … sort … … … ∞</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.0.6.</span> <span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.0.7.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-if-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.1.</span> <span class="toc-text">… … … if … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-case-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.2.</span> <span class="toc-text">… … … case … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-for-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.3.</span> <span class="toc-text">… … … for … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-while-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.4.</span> <span class="toc-text">… … … while … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-until-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">1.0.7.5.</span> <span class="toc-text">… … … until … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">服务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RPM%E5%8C%85%E6%9C%8D%E5%8A%A1%E6%BA%90%E7%A0%81%E5%8C%85%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.0.1.</span> <span class="toc-text">RPM包服务源码包服务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-ps-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">… … … ps … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-top-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.2.</span> <span class="toc-text">… … … top … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-pstree-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.3.</span> <span class="toc-text">… … … pstree … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-kill-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.4.</span> <span class="toc-text">… … … kill … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-killall-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.5.</span> <span class="toc-text">… … … killall … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-pkill-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.6.</span> <span class="toc-text">… … … pkill … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-jobs-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.7.</span> <span class="toc-text">… … … jobs … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-fg-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.8.</span> <span class="toc-text">… … … fg … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-bg-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.9.</span> <span class="toc-text">… … … bg … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-vmstat-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.10.</span> <span class="toc-text">… … … vmstat … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dmesg-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.11.</span> <span class="toc-text">… … … dmesg … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-free-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.12.</span> <span class="toc-text">… … … free … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-uptime-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.13.</span> <span class="toc-text">… … … uptime … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-uname-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.14.</span> <span class="toc-text">… … … uname … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-lsof-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.15.</span> <span class="toc-text">… … … lsof … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-crontab-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.16.</span> <span class="toc-text">… … … crontab … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-lspci-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.17.</span> <span class="toc-text">… … … lspci … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-systemctl-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.18.</span> <span class="toc-text">… … … systemctl … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-md5-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">3.0.0.19.</span> <span class="toc-text">… … … md5 … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">日志管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-logrotate-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">4.0.0.1.</span> <span class="toc-text">… … … logrotate … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">启动管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-runlevel-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">… … … runlevel … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-init-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">… … … init … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D"><span class="toc-number">6.</span> <span class="toc-text">备份恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dump-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">6.0.0.1.</span> <span class="toc-text">… … … dump … … … ∞</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">7.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-chrony-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">… … … chrony … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-tcpdump-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.2.</span> <span class="toc-text">… … … tcpdump … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-openssl-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.3.</span> <span class="toc-text">… … … openssl … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.4.</span> <span class="toc-text">… … … 登录信息 … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-git-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.5.</span> <span class="toc-text">… … … git … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-dmidecode-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.6.</span> <span class="toc-text">… … … dmidecode … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-sar-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.7.</span> <span class="toc-text">… … … sar … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-storcli64-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.8.</span> <span class="toc-text">… … … storcli64 … … … ∞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6-%E2%80%A6-hostname-%E2%80%A6-%E2%80%A6-%E2%80%A6-%E2%88%9E"><span class="toc-number">7.0.0.9.</span> <span class="toc-text">… … … hostname … … … ∞</span></a></li></ol></li></ol></li></ol></li></ol>
      
  </div>
</div>
</div>
        <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img data-src="/avatar/Omen.jpg" data-sizes="auto" alt="本堂主" class="lazyload">
  <div class="sidebar-author-name">本堂主</div>
  <div class="sidebar-description"></div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>投稿</div>
    <div class="sidebar-state-number">13</div>
  </div>
  <div class="sidebar-state-category">
    <div>カテゴリー</div>
    <div class="sidebar-state-number">5</div>
  </div>
  <div class="sidebar-state-tag">
    <div>タグ</div>
    <div class="sidebar-state-number">9</div>
  </div>
</div>
<div class="sidebar-social">
  
</div>
<div class="sidebar-menu">
  
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/" aria-label="ホーム"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">ホーム</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/archives" aria-label="アーカイブ"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">アーカイブ</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/about" aria-label="プロフィール"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">プロフィール</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/ja/friend" aria-label="フレンド"></a>
        <div class="sidebar-menu-icon icon rotate">
          &#xe62b;
        </div>
        <div class="sidebar-menu-link">フレンド</div>
      </div>
    
  
</div>
</div>
      
    
  </div>
  
    
      <div class="sidebar-btn-wrapper">
        <div class="sidebar-toc-btn current"></div>
        <div class="sidebar-common-btn"></div>
      </div>
    
  
</nav>

    </div>
    
      <div class="site-search">
        <div class="reimu-popup popup">
          <div class="reimu-search">
            <div class="reimu-search-input-icon"></div>
            <div class="reimu-search-input" id="reimu-search-input"></div>
            <div class="popup-btn-close"></div>
          </div>
          <div class="reimu-results">
            <div id="reimu-stats"></div>
            <div id="reimu-hits"></div>
            <div id="reimu-pagination" class="reimu-pagination"></div>
          </div>
          <img class="reimu-bg" src="/images/reimu.png"/>
        </div>
      </div>
    
    
<script src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js" integrity="sha384-3gT&#x2F;vsepWkfz&#x2F;ff7PpWNUeMzeWoH3cDhm&#x2F;A8jM7ouoAK0&#x2F;fP&#x2F;9bcHHR5kHq2nf+e" crossorigin="anonymous"></script>


<script src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js" integrity="sha384-J08i8An&#x2F;QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"></script>





<script src="/js/script.js"></script>



  
<script src="/js/aos.js"></script>

  <script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', aosInit);
    } else {
      aosInit();
    }
  </script>



<script src="/js/pjax_script.js" data-pjax></script>



  
<script src="/js/generator_search.js" defer></script>






  
<script src="https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js" integrity="sha384-8LyaidD9GPxQQgLJO&#x2F;WRw&#x2F;O2h3BoNq&#x2F;ApI&#x2F;ecpvM6RsrCz2qP2ppBXUKihP4V&#x2F;2d" crossorigin="anonymous"></script>

  <script>
    window.firework && window.firework(JSON.parse('{"excludeElements":["a","button"],"particles":[{"shape":"circle","move":["emit"],"easing":"easeOutExpo","colors":["var(--red-1)","var(--red-2)","var(--red-3)","var(--red-4)"],"number":20,"duration":[1200,1800],"shapeOptions":{"radius":[16,32],"alpha":[0.3,0.5]}},{"shape":"circle","move":["diffuse"],"easing":"easeOutExpo","colors":["var(--red-0)"],"number":1,"duration":[1200,1800],"shapeOptions":{"radius":20,"alpha":[0.2,0.5],"lineWidth":6}}]}'))
  </script>









  
<script src="https://npm.webcache.cn/quicklink@2.3.0/dist/quicklink.umd.js" integrity="sha384-aD7FsuQkS1ohgFKY41fJfeA+Wd&#x2F;QRNnrOd9Bs58K3FzKdJJv8yPnYU8Tnp5z1agS" crossorigin="anonymous"></script>

  <script data-pjax>
    window.quicklink?.listen({
      timeout: 3000,
      priority: true,
      ignores: []
    });
  </script>


<div id="lazy-script">
  <div>
    
      
      
      <script data-pjax>
        window.REIMU_POST = {
          author: "本堂主",
          title: "Linux备忘 - 下",
          url: "https://jade-xyy.github.io/2025/04/05/Linux%E5%A4%87%E5%BF%98-%E4%B8%8B/",
          excerpt: "",
          description: "",
          stripContent: "Shell编程基本功能 Shell是一个命令行解释器，为用户提供一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序还是一个功能强大的编程语言，易编写、易调试、灵活性较强，可直接调用Linux系统命令  Shell分类Bourne Shell：从1979起Unix就开始使用Bourne Shell，主文件名为shC Shell：C Shell主要在BSD版的Unix系统中使用，其语法和C语言相类似而得名  区别：Shell的两种主要语",
          date: "Sat Apr 05 2025 16:47:03 GMT+0800",
          updated: "Mon Apr 14 2025 15:04:49 GMT+0800",
          cover: "/images/banner.webp",
        };
      </script>
       
    
    
      
        
<script src="/js/insert_highlight.js" data-pjax></script>

        
          
<script src="https://npm.webcache.cn/html-to-image@1.11.11/dist/html-to-image.js" integrity="sha384-UbfRVKN3&#x2F;elS1r7JcK2FhmPP+KlJ4CvYwbyYD7tH+uTkbT9bNJr9eJeQ0FoFbAgz" crossorigin="anonymous" defer data-pjax></script>

          
<script src="https://npm.webcache.cn/qrcode@1.4.4/build/qrcode.min.js" integrity="sha384-0RsG1yo&#x2F;crf&#x2F;1Qc14sho26SXXOTngNCjgJw7fuvXBt9W&#x2F;OChF&#x2F;Ijx+aUuBDqQwEk" crossorigin="anonymous" defer data-pjax></script>

        
      
    
    
      <script type="module" data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.min.js", "sha384-DiL6M/gG+wmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF/N6lrZi/")).default;
        
        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script>
      








<script data-pjax>
  var loadScript = (src, integrity) => {
    const script = document.createElement('script');
    script.src = src;
    if (integrity) script.integrity = integrity;
    script.crossOrigin = 'anonymous';
    return script;
  };

  var commentConfigKeys = ['valine', 'waline', 'twikoo', 'gitalk', 'giscus'];
  var commentConfig = {
    valine: {
      enable: true,
      load: () => {
        const container = document.querySelector('.valine-comment');
        if (!container) return;
        container.style.display = 'block';

        const script = loadScript(
          'https://npm.webcache.cn/valine@1.5.1/dist/Valine.min.js',
          'sha384-3ma91AExDeMAZ1rjTjaP8V2A2obQE+s5ltKRwYlwdpArz9xVbp0tF3b0VV2ACNPn'
        );
        script.onload = () => {
          var GUEST_INFO = ['nick', 'mail', 'link'];
          var guest_info = 'nick,mail,link'.split(',').filter((item) => {
            return GUEST_INFO.indexOf(item) > -1
          });
          var recordIP = JSON.parse('true');
          var highlight = JSON.parse('true');
          var visitor = JSON.parse('false');

          if (window.Valine) {
            new Valine({
              el: '.valine-comment',
              appId: "e8feHL9uKMe2cBgp29tyFCdv-gzGzoHsz",
              appKey: "Z289QNdRm4m1Im6mWjAWqW4P",
              placeholder: "Just go go",
              pageSize: '10',
              avatar: 'mp',
              lang: 'zh-cn',
              recordIP: recordIP,
              highlight: highlight,
              visitor: visitor,
              requiredFields: guest_info,
              path: window.location.pathname
            });
          }
        };
        document.head.appendChild(script);
      }
    },
    waline: {
      enable: false,
      load: async () => {
        const container = document.querySelector('.waline-comment');
        if (!container) return;
        container.style.display = 'block';

        let walineInit;
        const walineCdn = 'https://npm.webcache.cn/@waline/client@2.15.8/dist/waline.mjs';
        const walineIntegrity = 'sha384-9sbqJjrfGjbkI6/PI4nU/MvBfEmkkPC4YK9I4zBeMIf1CVCZdCMH/KinBEAZII/5';

        const module = await safeImport(walineCdn, walineIntegrity);
        walineInit = module.init;

        window.walineInstance = walineInit({
          el: '.waline-comment',
          serverURL: '',
          lang: 'zh-CN',
          locale: {},
          emoji: ["https://unpkg.com/@waline/emojis@1.2.0/weibo","https://unpkg.com/@waline/emojis@1.2.0/alus","https://unpkg.com/@waline/emojis@1.2.0/bilibili","https://unpkg.com/@waline/emojis@1.2.0/qq","https://unpkg.com/@waline/emojis@1.2.0/tieba","https://unpkg.com/@waline/emojis@1.2.0/tw-emoji"],
          meta: ["nick","mail","link"],
          requiredMeta: ["nick","mail"],
          wordLimit: JSON.parse('0'),
          comment: true,
          pageSize: JSON.parse('10'),
          dark: 'html[data-theme="dark"]',
          pageview: JSON.parse('true'),
        });
      }
    },
    twikoo: {
      enable: false,
      load: () => {
        const container = document.querySelector('.twikoo-comment');
        if (!container) return;
        container.style.display = 'block';

        const script = loadScript(
          'https://npm.webcache.cn/twikoo@1.6.16/dist/twikoo.all.min.js',
          'sha384-lDHsr5aZmkMS0eKnsUu6e9RWP+dRmn7sgjRAKGOAoXfMyzbUK6Qi86zZK7R+KvRV'
        );

        script.onload = () => {
          if (window.twikoo) {
            twikoo.init({
              envId: '',
              el: '.tcomment',
              region: '',
            })
          }
        } 
        document.head.appendChild(script);
      }
    },
    gitalk: {
      enable: false,
      load: () => {
        const container = document.querySelector('.gitalk-comment');
        if (!container) return;
        container.style.display = 'block';

        const script = loadScript(
          'https://npm.webcache.cn/gitalk@1.8.0/dist/gitalk.min.js',
          'sha384-kspnZUWBoSWwoJHa0hBCXYbHGbhvU/lcEH5O8eVbSDhbPwsiVUTp/aGX/z/5EuMA'
        );

        script.onload = () => {
          if (false) {
            const md5Script = loadScript(
              'https://npm.webcache.cn/blueimp-md5@2.19.0/js/md5.min.js',
              'sha384-JmVtRz6RWiXnA14QbIOJzPuU3MidULOpBP66deeLLyyoF4Tr/gZlbkHkL6vTthxH'
            );
            md5Script.onload = initGitalk;
            document.head.appendChild(md5Script);
          } else {
            initGitalk();
          }
        }
        document.head.appendChild(script);

        function initGitalk() {
          var gitalkId = location.pathname;
          var gitalk = new Gitalk({
            clientID: '',
            clientSecret: '',
            repo: '',
            owner: '',
            admin: null,
            id: gitalkId, // Ensure uniqueness and length less than 50
            distractionFreeMode: false // Facebook-like distraction free mode
          })
          gitalk.render('gitalk-comment');
        }
      }
    },
    giscus: {
      enable: false,
      load: () => {
        const container = document.querySelector('.giscus-comment');
        if (!container) return;
        container.style.display = 'block';

        // 删除可能已存在的 giscus 脚本和 iframe
        const existingScript = container.querySelector('script[src*="giscus.app/client.js"]');
        if (existingScript) existingScript.remove();
        const existingFrame = document.querySelector('iframe.giscus-frame');
        if (existingFrame) existingFrame.remove();

        const giscusScript = document.createElement('script');
        const domMode = document.documentElement.getAttribute("data-theme");
        giscusScript.src = 'https://giscus.app/client.js';
        giscusScript.setAttribute('data-repo', '');
        giscusScript.setAttribute('data-repo-id', '');
        giscusScript.setAttribute('data-category', ''); 
        giscusScript.setAttribute('data-category-id', '');
        giscusScript.setAttribute('data-mapping', '0');
        giscusScript.setAttribute('data-strict', '0');
        giscusScript.setAttribute('data-reactions-enabled', '1');
        giscusScript.setAttribute('data-emit-metadata', '0');
        giscusScript.setAttribute('data-input-position', 'bottom');
        giscusScript.setAttribute('data-theme', domMode === 'dark' ? 'dark' : 'light');
        giscusScript.setAttribute('data-lang', 'zh-CN');
        giscusScript.setAttribute('crossorigin', 'anonymous');
        giscusScript.async = true;
        container.appendChild(giscusScript);
        document.body.addEventListener('light-theme-set', () => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: { setConfig: { theme: 'light' } } }, 'https://giscus.app');
        });
        document.body.addEventListener('dark-theme-set', () => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: { setConfig: { theme: 'dark' } } }, 'https://giscus.app');
        });
      }
    }
  }
  commentConfig.enable = commentConfigKeys.some(key => commentConfig[key].enable);

  var defaultComment = '';
  if (commentConfig.enable) {
    // 1. 首先检查localStorage中是否有保存的评论类型
    var savedCommentType = localStorage.getItem('commentType');
    
    // 2. 如果localStorage中有值且对应的评论系统可用，就使用它
    if (savedCommentType) {
      if (commentConfig[savedCommentType]?.enable) {
        defaultComment = savedCommentType;
      }
    }
    
    // 3. 如果localStorage无效，检查配置的默认评论系统
    if (!defaultComment) {
      var configDefault = 'valine';
      if (commentConfig[configDefault]?.enable) {
        defaultComment = configDefault;
      }
    }
    
    // 4. 如果前两项都无效，按指定顺序找到第一个可用的评论系统
    if (!defaultComment) {
      defaultComment = commentConfigKeys.find(sys => commentConfig[sys].enable) || '';
    }
  }
  function loadComments() {
    if (!commentConfig.enable) return;
    // 评论组件加载状态跟踪
    const loadedComments = {
      valine: false,
      waline: false,
      twikoo: false,
      gitalk: false,
      giscus: false
    };

    // 隐藏所有评论容器
    const hideAllComments = () => {
      const commentContainers = document.querySelectorAll('.comment');
      commentContainers.forEach(container => {
        container.style.display = 'none';
      });
    };

    // 按需加载评论系统
    const loadCommentSystem = (type) => {
      if (loadedComments[type]) {
        // 如果已加载，只需显示对应容器
        document.querySelector(`.${type}-comment`).style.display = 'block';
        return;
      }

      // 根据类型加载对应的脚本
      commentConfig[type]?.load();
      loadedComments[type] = true;
    };

    // 评论组件选择器
    const changeActiveCommentItems = (item) => {
      const commentItems = document.querySelectorAll('.selector-item');
      for (let i = 0; i < commentItems.length; i++) {
        commentItems[i].classList.remove('active');
      }
      item.classList.add('active');

      // 获取要加载的评论系统类型
      const commentType = item.getAttribute('data-selector');

      // 隐藏所有评论系统
      hideAllComments();

      // 加载选中的评论系统
      loadCommentSystem(commentType);
    };

    const commentInit = () => {
      // 评论组件选择器点击事件
      const commentItems = document.querySelectorAll('.selector-item');
      for (let item of commentItems) {
        item.addEventListener('click', () => {
          // 保存选择器状态
          const commentType = item.getAttribute('data-selector');
          window.localStorage.setItem('commentType', commentType);
          // 切换选中状态
          changeActiveCommentItems(item);
        });
      }

      // 检查是否需要加载默认评论系统
      if (defaultComment) {
        const defaultSelectorItem = document.querySelector(`[data-selector="${defaultComment}"]`);
        if (!defaultSelectorItem) return;
        defaultSelectorItem.style.display = 'block';
        defaultSelectorItem.classList.add('active');
        loadCommentSystem(defaultComment);
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', commentInit);
    } else {
      commentInit();
    }
  };
  loadComments();
</script>

    
  </div>
</div>


  <script>
    console.log(String.raw`%c 
 ______     ______     __     __    __     __  __    
/\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
\ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
 \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
  \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                  
`,'color: #ff5252;')
    console.log('%c Theme.Reimu v' + '1.6.0' + ' %c https://github.com/D-Sketon/hexo-theme-reimu ', 'color: white; background: #ff5252; padding:5px 0;', 'padding:4px;border:1px solid #ff5252;')
  </script>
  



  
<script src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js" integrity="sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S" crossorigin="anonymous" async></script>




<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then((registrations) => {
      for (let registration of registrations) {
        registration.unregister();
      }
    });
  }
</script>









    
  </body>
  </html>

